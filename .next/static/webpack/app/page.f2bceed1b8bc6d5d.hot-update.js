"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page", {
  /***/ "(app-pages-browser)/./components/game-board.tsx":
    /*!***********************************!*\
  !*** ./components/game-board.tsx ***!
  \***********************************/
    /***/ (module, __webpack_exports__, __webpack_require__) => {
      eval(
        __webpack_require__.ts(
          '__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ GameBoard)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ "(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_player_area__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/player-area */ "(app-pages-browser)/./components/player-area.tsx");\n/* harmony import */ var _components_card_deck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/card-deck */ "(app-pages-browser)/./components/card-deck.tsx");\n/* harmony import */ var _components_action_area__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/action-area */ "(app-pages-browser)/./components/action-area.tsx");\n/* harmony import */ var _components_action_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/action-modal */ "(app-pages-browser)/./components/action-modal.tsx");\n/* harmony import */ var _components_property_selection_modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/property-selection-modal */ "(app-pages-browser)/./components/property-selection-modal.tsx");\n/* harmony import */ var _lib_game_logic__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/game-logic */ "(app-pages-browser)/./lib/game-logic.ts");\n/* harmony import */ var _components_game_controls__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/game-controls */ "(app-pages-browser)/./components/game-controls.tsx");\n/* harmony import */ var _components_game_info__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/game-info */ "(app-pages-browser)/./components/game-info.tsx");\n/* harmony import */ var _components_discard_modal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/discard-modal */ "(app-pages-browser)/./components/discard-modal.tsx");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\nfunction GameBoard() {\n    _s();\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showDiscardModal, setShowDiscardModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [actionCardInProgress, setActionCardInProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showPropertySelectionModal, setShowPropertySelectionModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [propertySelectionType, setPropertySelectionType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");\n    const [targetPlayerForPropertySelection, setTargetPlayerForPropertySelection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Add state for forced deal and sly deal\n    const [forcedDealTargetCard, setForcedDealTargetCard] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Initialize game\n    const startGame = (numPlayers)=>{\n        const { initializedPlayers, initializedDeck } = initializeGame(numPlayers);\n        setGameState({\n            players: initializedPlayers,\n            deck: initializedDeck,\n            currentPlayerIndex: 0,\n            cardsPlayed: 0,\n            isGameOver: false,\n            winner: null,\n            actionInProgress: null,\n            hasDrawnCards: false,\n            actionCards: [],\n            message: "Game started! Draw cards to begin your turn."\n        });\n    };\n    // Handle drawing cards at the start of a turn\n    const handleDrawCards = ()=>{\n        if (!gameState || gameState.hasDrawnCards) return;\n        const { updatedPlayer, updatedDeck } = (0,_lib_game_logic__WEBPACK_IMPORTED_MODULE_7__.drawCards)(gameState.players[gameState.currentPlayerIndex], gameState.deck);\n        const updatedPlayers = [\n            ...gameState.players\n        ];\n        updatedPlayers[gameState.currentPlayerIndex] = updatedPlayer;\n        setGameState({\n            ...gameState,\n            players: updatedPlayers,\n            deck: updatedDeck,\n            hasDrawnCards: true,\n            message: "Cards drawn. Play up to 3 cards."\n        });\n    };\n    // Handle playing a card\n    const handlePlayCard = (cardIndex, targetArea, targetPlayer)=>{\n        if (!gameState || gameState.cardsPlayed >= 3 || !gameState.hasDrawnCards) return;\n        const player = gameState.players[gameState.currentPlayerIndex];\n        const card = player.hand[cardIndex];\n        // Validate card placement\n        if (!(0,_lib_game_logic__WEBPACK_IMPORTED_MODULE_7__.isValidCardPlacement)(card, targetArea)) {\n            alert("Invalid card placement. Check the rules for where this card can be played.");\n            return;\n        }\n        const updatedPlayers = [\n            ...gameState.players\n        ];\n        const updatedPlayer = {\n            ...updatedPlayers[gameState.currentPlayerIndex]\n        };\n        // Remove card from hand\n        updatedPlayer.hand = [\n            ...updatedPlayer.hand\n        ];\n        updatedPlayer.hand.splice(cardIndex, 1);\n        // Add card to appropriate area\n        if (targetArea === "bank") {\n            updatedPlayer.bank = [\n                ...updatedPlayer.bank,\n                card\n            ];\n        } else if (targetArea.startsWith("property-")) {\n            // Handle property placement logic\n            const setIndex = Number.parseInt(targetArea.split("-")[1]);\n            // Check if this is an existing property set\n            if (setIndex < updatedPlayer.properties.length) {\n                // Add to existing property set\n                updatedPlayer.properties = [\n                    ...updatedPlayer.properties\n                ];\n                const updatedSet = {\n                    ...updatedPlayer.properties[setIndex],\n                    cards: [\n                        ...updatedPlayer.properties[setIndex].cards,\n                        card\n                    ]\n                };\n                // Check if set is now complete\n                updatedSet.isComplete = updatedSet.cards.length >= updatedSet.requiredCards;\n                updatedPlayer.properties[setIndex] = updatedSet;\n            } else {\n                // Create new property set (only for regular properties, not "Any Color" wildcards)\n                const isAnyColorWildcard = card.type === "wildcard" && card.name.toLowerCase().includes("any color");\n                if (!isAnyColorWildcard) {\n                    updatedPlayer.properties = [\n                        ...updatedPlayer.properties,\n                        {\n                            color: card.color || "",\n                            cards: [\n                                card\n                            ],\n                            isComplete: false,\n                            houses: 0,\n                            hotels: 0,\n                            requiredCards: (0,_lib_game_logic__WEBPACK_IMPORTED_MODULE_7__.getRequiredCardsForColor)(card.color || "")\n                        }\n                    ];\n                } else {\n                    // Any Color wildcards can\'t create their own sets\n                    alert("Any Color wildcards must be added to an existing property set.");\n                    return;\n                }\n            }\n        } else if (targetArea === "action") {\n            // This is now handled by handlePlayActionCard\n            return;\n        }\n        updatedPlayers[gameState.currentPlayerIndex] = updatedPlayer;\n        setGameState({\n            ...gameState,\n            players: updatedPlayers,\n            cardsPlayed: gameState.cardsPlayed + 1,\n            message: "Card played (".concat(gameState.cardsPlayed + 1, "/3)")\n        });\n    };\n    // Handle playing an action card\n    const handlePlayActionCard = (cardIndex)=>{\n        if (!gameState || gameState.cardsPlayed >= 3 || !gameState.hasDrawnCards) return;\n        const player = gameState.players[gameState.currentPlayerIndex];\n        const card = player.hand[cardIndex];\n        if (card.type !== "action") {\n            alert("This is not an action card.");\n            return;\n        }\n        // Set the action card in progress\n        setActionCardInProgress({\n            card,\n            index: cardIndex\n        });\n    };\n    // Handle completing an action card\n    const handleActionCardComplete = (targetPlayerIndex, amount)=>{\n        if (!gameState || !actionCardInProgress) return;\n        const currentPlayerIndex = gameState.currentPlayerIndex;\n        const card = actionCardInProgress.card;\n        const cardIndex = actionCardInProgress.index;\n        const updatedPlayers = [\n            ...gameState.players\n        ];\n        const updatedPlayer = {\n            ...updatedPlayers[currentPlayerIndex]\n        };\n        // Remove card from hand\n        updatedPlayer.hand = [\n            ...updatedPlayer.hand\n        ];\n        updatedPlayer.hand.splice(cardIndex, 1);\n        // Add card to action area\n        const updatedActionCards = [\n            ...gameState.actionCards,\n            card\n        ];\n        // Process the action based on the card type\n        let message = "Played ".concat(card.name);\n        switch(card.actionType){\n            case "debt-collector":\n                if (targetPlayerIndex !== undefined) {\n                    const targetPlayer = {\n                        ...updatedPlayers[targetPlayerIndex]\n                    };\n                    const amountToPay = Math.min(5, calculateBankTotal(targetPlayer.bank));\n                    if (amountToPay > 0) {\n                        // Find cards to pay with (simple implementation - just take the first cards that add up to the amount)\n                        const cardsToPay = [];\n                        let totalPaid = 0;\n                        // Sort bank cards by value (ascending) to optimize payment\n                        const sortedBank = [\n                            ...targetPlayer.bank\n                        ].sort((a, b)=>a.value - b.value);\n                        for (const bankCard of sortedBank){\n                            if (totalPaid < amountToPay) {\n                                cardsToPay.push(bankCard);\n                                totalPaid += bankCard.value;\n                                if (totalPaid >= amountToPay) {\n                                    break;\n                                }\n                            }\n                        }\n                        // Remove cards from target player\'s bank\n                        targetPlayer.bank = targetPlayer.bank.filter((card)=>!cardsToPay.some((payCard)=>payCard.id === card.id));\n                        // Add cards to current player\'s bank\n                        updatedPlayer.bank = [\n                            ...updatedPlayer.bank,\n                            ...cardsToPay\n                        ];\n                        updatedPlayers[targetPlayerIndex] = targetPlayer;\n                        message = "Collected $".concat(totalPaid, "M from Player ").concat(targetPlayerIndex + 1);\n                    } else {\n                        message = "Player ".concat(targetPlayerIndex + 1, " has no money to pay");\n                    }\n                }\n                break;\n            case "birthday":\n                let totalCollected = 0;\n                // Collect 2M from each player\n                updatedPlayers.forEach((player, index)=>{\n                    if (index !== currentPlayerIndex) {\n                        const playerToUpdate = {\n                            ...player\n                        };\n                        const amountToPay = Math.min(2, calculateBankTotal(playerToUpdate.bank));\n                        if (amountToPay > 0) {\n                            // Find cards to pay with\n                            const cardsToPay = [];\n                            let totalPaid = 0;\n                            // Sort bank cards by value (ascending) to optimize payment\n                            const sortedBank = [\n                                ...playerToUpdate.bank\n                            ].sort((a, b)=>a.value - b.value);\n                            for (const bankCard of sortedBank){\n                                if (totalPaid < amountToPay) {\n                                    cardsToPay.push(bankCard);\n                                    totalPaid += bankCard.value;\n                                    if (totalPaid >= amountToPay) {\n                                        break;\n                                    }\n                                }\n                            }\n                            // Remove cards from player\'s bank\n                            playerToUpdate.bank = playerToUpdate.bank.filter((card)=>!cardsToPay.some((payCard)=>payCard.id === card.id));\n                            // Add cards to current player\'s bank\n                            updatedPlayer.bank = [\n                                ...updatedPlayer.bank,\n                                ...cardsToPay\n                            ];\n                            updatedPlayers[index] = playerToUpdate;\n                            totalCollected += totalPaid;\n                        }\n                    }\n                });\n                message = "Collected $".concat(totalCollected, "M for your birthday");\n                break;\n            case "pass-go":\n                // Draw 2 more cards\n                const { updatedPlayer: playerWithExtraCards, updatedDeck } = (0,_lib_game_logic__WEBPACK_IMPORTED_MODULE_7__.drawCards)(updatedPlayer, gameState.deck, 2);\n                updatedPlayer.hand = playerWithExtraCards.hand;\n                message = "Drew 2 more cards";\n                setGameState({\n                    ...gameState,\n                    players: updatedPlayers,\n                    deck: updatedDeck,\n                    cardsPlayed: gameState.cardsPlayed + 1,\n                    actionCards: updatedActionCards,\n                    message\n                });\n                break;\n            case "rent":\n                if (targetPlayerIndex !== undefined) {\n                    // Calculate rent based on properties of the specified colors\n                    const rentColors = [];\n                    if (card.color) rentColors.push(card.color);\n                    if (card.secondaryColor) rentColors.push(card.secondaryColor);\n                    // Find property sets of the specified colors\n                    const relevantSets = updatedPlayer.properties.filter((set)=>rentColors.includes(set.color));\n                    // Calculate rent amount\n                    let rentAmount = 0;\n                    relevantSets.forEach((set)=>{\n                        rentAmount += (0,_lib_game_logic__WEBPACK_IMPORTED_MODULE_7__.calculateRentAmount)(set);\n                    });\n                    if (rentAmount > 0) {\n                        const targetPlayer = {\n                            ...updatedPlayers[targetPlayerIndex]\n                        };\n                        const amountToPay = Math.min(rentAmount, calculateBankTotal(targetPlayer.bank));\n                        if (amountToPay > 0) {\n                            // Find cards to pay with\n                            const cardsToPay = [];\n                            let totalPaid = 0;\n                            // Sort bank cards by value (ascending) to optimize payment\n                            const sortedBank = [\n                                ...targetPlayer.bank\n                            ].sort((a, b)=>a.value - b.value);\n                            for (const bankCard of sortedBank){\n                                if (totalPaid < amountToPay) {\n                                    cardsToPay.push(bankCard);\n                                    totalPaid += bankCard.value;\n                                    if (totalPaid >= amountToPay) {\n                                        break;\n                                    }\n                                }\n                            }\n                            // Remove cards from target player\'s bank\n                            targetPlayer.bank = targetPlayer.bank.filter((card)=>!cardsToPay.some((payCard)=>payCard.id === card.id));\n                            // Add cards to current player\'s bank\n                            updatedPlayer.bank = [\n                                ...updatedPlayer.bank,\n                                ...cardsToPay\n                            ];\n                            updatedPlayers[targetPlayerIndex] = targetPlayer;\n                            message = "Collected $".concat(totalPaid, "M rent from Player ").concat(targetPlayerIndex + 1);\n                        } else {\n                            message = "Player ".concat(targetPlayerIndex + 1, " has no money to pay rent");\n                        }\n                    } else {\n                        message = "No properties of the specified colors to collect rent for";\n                    }\n                }\n                break;\n            case "deal-breaker":\n                if (targetPlayerIndex !== undefined) {\n                    // Show property selection modal for complete sets\n                    setPropertySelectionType("deal-breaker");\n                    setTargetPlayerForPropertySelection(targetPlayerIndex);\n                    setShowPropertySelectionModal(true);\n                    // The rest of the logic will be handled when the property is selected\n                    setActionCardInProgress(null);\n                    return;\n                }\n                break;\n            case "sly-deal":\n                if (targetPlayerIndex !== undefined) {\n                    // Show property selection modal for incomplete sets\n                    setPropertySelectionType("sly-deal");\n                    setTargetPlayerForPropertySelection(targetPlayerIndex);\n                    setShowPropertySelectionModal(true);\n                    // The rest of the logic will be handled when the property is selected\n                    setActionCardInProgress(null);\n                    return;\n                }\n                break;\n            case "forced-deal":\n                if (targetPlayerIndex !== undefined) {\n                    // Show property selection modal for incomplete sets\n                    setPropertySelectionType("forced-deal");\n                    setTargetPlayerForPropertySelection(targetPlayerIndex);\n                    setShowPropertySelectionModal(true);\n                    // The rest of the logic will be handled when the property is selected\n                    setActionCardInProgress(null);\n                    return;\n                }\n                break;\n        }\n        updatedPlayers[currentPlayerIndex] = updatedPlayer;\n        setGameState({\n            ...gameState,\n            players: updatedPlayers,\n            cardsPlayed: gameState.cardsPlayed + 1,\n            actionCards: updatedActionCards,\n            message\n        });\n        setActionCardInProgress(null);\n    };\n    // Handle property selection for action cards\n    const handlePropertySelection = (setIndex, cardIndex)=>{\n        if (!gameState || !targetPlayerForPropertySelection) return;\n        const currentPlayerIndex = gameState.currentPlayerIndex;\n        const targetPlayerIndex = targetPlayerForPropertySelection;\n        const updatedPlayers = [\n            ...gameState.players\n        ];\n        const currentPlayer = {\n            ...updatedPlayers[currentPlayerIndex]\n        };\n        const targetPlayer = {\n            ...updatedPlayers[targetPlayerIndex]\n        };\n        let message = "";\n        switch(propertySelectionType){\n            case "deal-breaker":\n                // Steal a complete property set\n                if (setIndex < targetPlayer.properties.length) {\n                    const stolenSet = {\n                        ...targetPlayer.properties[setIndex]\n                    };\n                    // Remove the set from target player\n                    targetPlayer.properties = targetPlayer.properties.filter((_, i)=>i !== setIndex);\n                    // Add the set to current player\n                    currentPlayer.properties = [\n                        ...currentPlayer.properties,\n                        stolenSet\n                    ];\n                    message = "Stole ".concat(stolenSet.color, " property set from Player ").concat(targetPlayerIndex + 1);\n                }\n                break;\n            case "sly-deal":\n                // Steal a single property card\n                if (setIndex < targetPlayer.properties.length && cardIndex < targetPlayer.properties[setIndex].cards.length) {\n                    const stolenCard = targetPlayer.properties[setIndex].cards[cardIndex];\n                    // Remove the card from target player\'s set\n                    const updatedTargetProperties = [\n                        ...targetPlayer.properties\n                    ];\n                    const updatedSet = {\n                        ...updatedTargetProperties[setIndex]\n                    };\n                    updatedSet.cards = updatedSet.cards.filter((_, i)=>i !== cardIndex);\n                    // If the set is now empty, remove it\n                    if (updatedSet.cards.length === 0) {\n                        updatedTargetProperties.splice(setIndex, 1);\n                    } else {\n                        // Update the set\'s completion status\n                        updatedSet.isComplete = updatedSet.cards.length >= updatedSet.requiredCards;\n                        updatedTargetProperties[setIndex] = updatedSet;\n                    }\n                    targetPlayer.properties = updatedTargetProperties;\n                    // Add the card to current player\'s properties\n                    const existingSetIndex = currentPlayer.properties.findIndex((set)=>set.color === stolenCard.color);\n                    if (existingSetIndex >= 0) {\n                        // Add to existing set\n                        const updatedCurrentProperties = [\n                            ...currentPlayer.properties\n                        ];\n                        const updatedCurrentSet = {\n                            ...updatedCurrentProperties[existingSetIndex]\n                        };\n                        updatedCurrentSet.cards = [\n                            ...updatedCurrentSet.cards,\n                            stolenCard\n                        ];\n                        updatedCurrentSet.isComplete = updatedCurrentSet.cards.length >= updatedCurrentSet.requiredCards;\n                        updatedCurrentProperties[existingSetIndex] = updatedCurrentSet;\n                        currentPlayer.properties = updatedCurrentProperties;\n                    } else {\n                        // Create new set\n                        currentPlayer.properties = [\n                            ...currentPlayer.properties,\n                            {\n                                color: stolenCard.color || "",\n                                cards: [\n                                    stolenCard\n                                ],\n                                isComplete: false,\n                                houses: 0,\n                                hotels: 0,\n                                requiredCards: (0,_lib_game_logic__WEBPACK_IMPORTED_MODULE_7__.getRequiredCardsForColor)(stolenCard.color || "")\n                            }\n                        ];\n                    }\n                    message = "Stole ".concat(stolenCard.name, " from Player ").concat(targetPlayerIndex + 1);\n                }\n                break;\n            case "forced-deal":\n                // First step: Select the target player\'s property\n                if (setIndex < targetPlayer.properties.length && cardIndex < targetPlayer.properties[setIndex].cards.length) {\n                    const targetCard = targetPlayer.properties[setIndex].cards[cardIndex];\n                    // Store the selected card info\n                    setForcedDealTargetCard({\n                        playerIndex: targetPlayerIndex,\n                        setIndex,\n                        cardIndex,\n                        card: targetCard\n                    });\n                    // Show a message to select your own property\n                    setGameState({\n                        ...gameState,\n                        message: "Selected ".concat(targetCard.name, ". Now select one of your properties to swap.")\n                    });\n                    // Close the current modal\n                    setShowPropertySelectionModal(false);\n                    // Open a new modal to select your own property\n                    setTimeout(()=>{\n                        setPropertySelectionType("forced-deal-own");\n                        setShowPropertySelectionModal(true);\n                    }, 100);\n                    return; // Exit the function early\n                }\n                break;\n            case "forced-deal-own":\n                // Second step: Select your own property to swap\n                if (forcedDealTargetCard !== null && setIndex < currentPlayer.properties.length && cardIndex < currentPlayer.properties[setIndex].cards.length) {\n                    const ownCard = currentPlayer.properties[setIndex].cards[cardIndex];\n                    const targetPlayerIndex = forcedDealTargetCard.playerIndex;\n                    const targetPlayer = {\n                        ...updatedPlayers[targetPlayerIndex]\n                    };\n                    // Remove the card from target player\'s set\n                    const updatedTargetProperties = [\n                        ...targetPlayer.properties\n                    ];\n                    const targetSetIndex = forcedDealTargetCard.setIndex;\n                    const targetCardIndex = forcedDealTargetCard.cardIndex;\n                    const updatedTargetSet = {\n                        ...updatedTargetProperties[targetSetIndex]\n                    };\n                    updatedTargetSet.cards = [\n                        ...updatedTargetSet.cards\n                    ];\n                    const targetCard = updatedTargetSet.cards[targetCardIndex];\n                    updatedTargetSet.cards.splice(targetCardIndex, 1);\n                    // Remove the card from current player\'s set\n                    const updatedCurrentProperties = [\n                        ...currentPlayer.properties\n                    ];\n                    const updatedCurrentSet = {\n                        ...updatedCurrentProperties[setIndex]\n                    };\n                    updatedCurrentSet.cards = [\n                        ...updatedCurrentSet.cards\n                    ];\n                    updatedCurrentSet.cards.splice(cardIndex, 1);\n                    // Add current player\'s card to target player\'s set\n                    if (updatedTargetSet.cards.length === 0) {\n                        // If set is empty, replace it with a new set\n                        updatedTargetProperties[targetSetIndex] = {\n                            color: ownCard.color || "",\n                            cards: [\n                                ownCard\n                            ],\n                            isComplete: false,\n                            houses: 0,\n                            hotels: 0,\n                            requiredCards: (0,_lib_game_logic__WEBPACK_IMPORTED_MODULE_7__.getRequiredCardsForColor)(ownCard.color || "")\n                        };\n                    } else {\n                        // Add to existing set if colors match\n                        if (ownCard.color === updatedTargetSet.color) {\n                            updatedTargetSet.cards.push(ownCard);\n                            updatedTargetSet.isComplete = updatedTargetSet.cards.length >= updatedTargetSet.requiredCards;\n                            updatedTargetProperties[targetSetIndex] = updatedTargetSet;\n                        } else {\n                            // Create a new set if colors don\'t match\n                            updatedTargetProperties.push({\n                                color: ownCard.color || "",\n                                cards: [\n                                    ownCard\n                                ],\n                                isComplete: false,\n                                houses: 0,\n                                hotels: 0,\n                                requiredCards: (0,_lib_game_logic__WEBPACK_IMPORTED_MODULE_7__.getRequiredCardsForColor)(ownCard.color || "")\n                            });\n                        }\n                    }\n                    // Add target player\'s card to current player\'s set\n                    if (updatedCurrentSet.cards.length === 0) {\n                        // If set is empty, replace it with a new set\n                        updatedCurrentProperties[setIndex] = {\n                            color: targetCard.color || "",\n                            cards: [\n                                targetCard\n                            ],\n                            isComplete: false,\n                            houses: 0,\n                            hotels: 0,\n                            requiredCards: (0,_lib_game_logic__WEBPACK_IMPORTED_MODULE_7__.getRequiredCardsForColor)(targetCard.color || "")\n                        };\n                    } else {\n                        // Add to existing set if colors match\n                        if (targetCard.color === updatedCurrentSet.color) {\n                            updatedCurrentSet.cards.push(targetCard);\n                            updatedCurrentSet.isComplete = updatedCurrentSet.cards.length >= updatedCurrentSet.requiredCards;\n                            updatedCurrentProperties[setIndex] = updatedCurrentSet;\n                        } else {\n                            // Create a new set if colors don\'t match\n                            updatedCurrentProperties.push({\n                                color: targetCard.color || "",\n                                cards: [\n                                    targetCard\n                                ],\n                                isComplete: false,\n                                houses: 0,\n                                hotels: 0,\n                                requiredCards: (0,_lib_game_logic__WEBPACK_IMPORTED_MODULE_7__.getRequiredCardsForColor)(targetCard.color || "")\n                            });\n                        }\n                    }\n                    // Update the properties arrays\n                    targetPlayer.properties = updatedTargetProperties;\n                    currentPlayer.properties = updatedCurrentProperties;\n                    // Update players in the state\n                    updatedPlayers[targetPlayerIndex] = targetPlayer;\n                    updatedPlayers[currentPlayerIndex] = currentPlayer;\n                    message = "Swapped ".concat(ownCard.name, " for ").concat(targetCard.name, " with Player ").concat(targetPlayerIndex + 1);\n                    // Reset the forced deal state\n                    setForcedDealTargetCard(null);\n                }\n                break;\n        }\n        // Update players\n        updatedPlayers[currentPlayerIndex] = currentPlayer;\n        updatedPlayers[targetPlayerIndex] = targetPlayer;\n        // Add the action card to the action area\n        const updatedActionCards = [\n            ...gameState.actionCards\n        ];\n        // Make sure actionCardInProgress exists before trying to use it\n        if (actionCardInProgress) {\n            // Add the card to the action area\n            updatedActionCards.push(actionCardInProgress.card);\n            // Remove the card from the player\'s hand\n            const updatedHand = [\n                ...currentPlayer.hand\n            ];\n            updatedHand.splice(actionCardInProgress.index, 1);\n            currentPlayer.hand = updatedHand;\n            // Update the player in the players array\n            updatedPlayers[currentPlayerIndex] = currentPlayer;\n            console.log("Removed ".concat(actionCardInProgress.card.name, " from player ").concat(currentPlayerIndex + 1, "\'s hand"));\n            console.log("Added ".concat(actionCardInProgress.card.name, " to action area"));\n        }\n        setGameState({\n            ...gameState,\n            players: updatedPlayers,\n            cardsPlayed: gameState.cardsPlayed + 1,\n            actionCards: updatedActionCards,\n            message\n        });\n        setShowPropertySelectionModal(false);\n        setTargetPlayerForPropertySelection(null);\n        setPropertySelectionType("");\n        setActionCardInProgress(null);\n    };\n    // Handle ending a turn\n    const handleEndTurn = ()=>{\n        if (!gameState) return;\n        // Check if player has more than 7 cards\n        if (gameState.players[gameState.currentPlayerIndex].hand.length > 7) {\n            setShowDiscardModal(true);\n            return;\n        }\n        completeEndTurn();\n    };\n    // Complete the end turn process after discarding if necessary\n    const completeEndTurn = ()=>{\n        if (!gameState) return;\n        const { nextPlayerIndex, updatedPlayers } = (0,_lib_game_logic__WEBPACK_IMPORTED_MODULE_7__.endTurn)(gameState.players, gameState.currentPlayerIndex);\n        setGameState({\n            ...gameState,\n            players: updatedPlayers,\n            currentPlayerIndex: nextPlayerIndex,\n            cardsPlayed: 0,\n            hasDrawnCards: false,\n            message: "Player ".concat(nextPlayerIndex + 1, "\'s turn. Draw cards to begin.")\n        });\n    };\n    // Handle discarding cards\n    const handleDiscard = (cardIndices)=>{\n        if (!gameState) return;\n        const { updatedPlayer, updatedDeck } = (0,_lib_game_logic__WEBPACK_IMPORTED_MODULE_7__.discardCards)(gameState.players[gameState.currentPlayerIndex], cardIndices, gameState.deck);\n        const updatedPlayers = [\n            ...gameState.players\n        ];\n        updatedPlayers[gameState.currentPlayerIndex] = updatedPlayer;\n        setGameState({\n            ...gameState,\n            players: updatedPlayers,\n            deck: updatedDeck,\n            message: "Discarded ".concat(cardIndices.length, " cards")\n        });\n        setShowDiscardModal(false);\n        completeEndTurn();\n    };\n    // Calculate total money in bank\n    const calculateBankTotal = (bank)=>{\n        return bank.reduce((total, card)=>total + card.value, 0);\n    };\n    // Check for winner\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        "GameBoard.useEffect": ()=>{\n            if (!gameState) return;\n            const checkWinner = {\n                "GameBoard.useEffect.checkWinner": ()=>{\n                    for (const player of gameState.players){\n                        // Check if player has 3 complete property sets\n                        const completeSets = player.properties.filter({\n                            "GameBoard.useEffect.checkWinner": (set)=>set.isComplete\n                        }["GameBoard.useEffect.checkWinner"]).length;\n                        if (completeSets >= 3) {\n                            setGameState({\n                                ...gameState,\n                                isGameOver: true,\n                                winner: player,\n                                message: "Player ".concat(player.id + 1, " wins with 3 complete property sets!")\n                            });\n                            return;\n                        }\n                    }\n                }\n            }["GameBoard.useEffect.checkWinner"];\n            checkWinner();\n        }\n    }["GameBoard.useEffect"], [\n        gameState\n    ]);\n    if (!gameState) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {\n            className: "flex flex-col items-center justify-center p-6 bg-white rounded-lg shadow-lg",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("h2", {\n                    className: "text-2xl font-bold mb-4",\n                    children: "Start New Game"\n                }, void 0, false, {\n                    fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                    lineNumber: 833,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {\n                    className: "flex gap-4",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("button", {\n                            onClick: ()=>startGame(2),\n                            className: "px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",\n                            children: "2 Players"\n                        }, void 0, false, {\n                            fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                            lineNumber: 835,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("button", {\n                            onClick: ()=>startGame(3),\n                            className: "px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",\n                            children: "3 Players"\n                        }, void 0, false, {\n                            fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                            lineNumber: 841,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("button", {\n                            onClick: ()=>startGame(4),\n                            className: "px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",\n                            children: "4 Players"\n                        }, void 0, false, {\n                            fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                            lineNumber: 847,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                    lineNumber: 834,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n            lineNumber: 832,\n            columnNumber: 7\n        }, this);\n    }\n    if (gameState.isGameOver && gameState.winner) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {\n            className: "flex flex-col items-center justify-center p-6 bg-white rounded-lg shadow-lg",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("h2", {\n                    className: "text-2xl font-bold mb-4",\n                    children: "Game Over!"\n                }, void 0, false, {\n                    fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                    lineNumber: 861,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("p", {\n                    className: "text-xl mb-4",\n                    children: [\n                        "Player ",\n                        gameState.winner.id + 1,\n                        " wins!"\n                    ]\n                }, void 0, true, {\n                    fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                    lineNumber: 862,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("button", {\n                    onClick: ()=>startGame(gameState.players.length),\n                    className: "px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",\n                    children: "New Game"\n                }, void 0, false, {\n                    fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                    lineNumber: 863,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n            lineNumber: 860,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {\n        className: "w-full max-w-7xl",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_game_info__WEBPACK_IMPORTED_MODULE_9__["default"], {\n                currentPlayer: gameState.currentPlayerIndex + 1,\n                cardsPlayed: gameState.cardsPlayed,\n                hasDrawnCards: gameState.hasDrawnCards\n            }, void 0, false, {\n                fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                lineNumber: 875,\n                columnNumber: 7\n            }, this),\n            gameState.message && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {\n                className: "bg-blue-100 p-3 rounded-lg mb-4 text-center",\n                children: gameState.message\n            }, void 0, false, {\n                fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                lineNumber: 882,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {\n                className: "flex justify-center items-center gap-6 mb-6",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_card_deck__WEBPACK_IMPORTED_MODULE_3__["default"], {\n                        cardsRemaining: gameState.deck.length,\n                        onDrawCards: handleDrawCards,\n                        hasDrawnCards: gameState.hasDrawnCards\n                    }, void 0, false, {\n                        fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                        lineNumber: 888,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_action_area__WEBPACK_IMPORTED_MODULE_4__["default"], {\n                        actionCards: gameState.actionCards,\n                        isCurrentPlayersTurn: true\n                    }, void 0, false, {\n                        fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                        lineNumber: 894,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                lineNumber: 887,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {\n                className: "grid grid-cols-1 md:grid-cols-2 gap-6 mb-20",\n                children: gameState.players.map((player, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_player_area__WEBPACK_IMPORTED_MODULE_2__["default"], {\n                        player: player,\n                        isCurrentPlayer: index === gameState.currentPlayerIndex,\n                        onPlayCard: handlePlayCard,\n                        onPlayActionCard: handlePlayActionCard,\n                        gameState: gameState,\n                        bankTotal: calculateBankTotal(player.bank)\n                    }, player.id, false, {\n                        fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                        lineNumber: 902,\n                        columnNumber: 11\n                    }, this))\n            }, void 0, false, {\n                fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                lineNumber: 900,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_game_controls__WEBPACK_IMPORTED_MODULE_8__["default"], {\n                cardsPlayed: gameState.cardsPlayed,\n                onEndTurn: handleEndTurn,\n                isCurrentPlayersTurn: true,\n                hasDrawnCards: gameState.hasDrawnCards\n            }, void 0, false, {\n                fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                lineNumber: 914,\n                columnNumber: 7\n            }, this),\n            showDiscardModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_discard_modal__WEBPACK_IMPORTED_MODULE_10__["default"], {\n                player: gameState.players[gameState.currentPlayerIndex],\n                onDiscard: handleDiscard\n            }, void 0, false, {\n                fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                lineNumber: 922,\n                columnNumber: 9\n            }, this),\n            actionCardInProgress && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_action_modal__WEBPACK_IMPORTED_MODULE_5__["default"], {\n                card: actionCardInProgress.card,\n                players: gameState.players,\n                currentPlayerIndex: gameState.currentPlayerIndex,\n                onComplete: handleActionCardComplete,\n                onCancel: ()=>setActionCardInProgress(null)\n            }, void 0, false, {\n                fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                lineNumber: 929,\n                columnNumber: 9\n            }, this),\n            showPropertySelectionModal && targetPlayerForPropertySelection !== null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_property_selection_modal__WEBPACK_IMPORTED_MODULE_6__["default"], {\n                title: propertySelectionType === "deal-breaker" ? "Select a complete property set to steal" : propertySelectionType === "sly-deal" ? "Select a property card to steal" : "Select a property card to swap",\n                propertySets: gameState.players[targetPlayerForPropertySelection].properties,\n                onSelect: handlePropertySelection,\n                onCancel: ()=>{\n                    setShowPropertySelectionModal(false);\n                    setTargetPlayerForPropertySelection(null);\n                    setPropertySelectionType("");\n                    setActionCardInProgress(null);\n                },\n                allowCompleteSet: propertySelectionType === "deal-breaker"\n            }, void 0, false, {\n                fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n                lineNumber: 940,\n                columnNumber: 11\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: "/Users/kitjones/Desktop/monopoly-deal/components/game-board.tsx",\n        lineNumber: 874,\n        columnNumber: 5\n    }, this);\n}\n_s(GameBoard, "ghqW/mow9Mh/xXzBOKrPXQNifaQ=");\n_c = GameBoard;\nvar _c;\n$RefreshReg$(_c, "GameBoard");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we\'re in a\n        // browser context before continuing.\n        if (typeof self !== \'undefined\' &&\n            // AMP / No-JS mode does not inject these helpers:\n            \'$RefreshHelpers$\' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we\'ll check if it\'s\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we\'ll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it\'s possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvZ2FtZS1ib2FyZC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTRDO0FBQ007QUFDSjtBQUNJO0FBQ0U7QUFDdUI7QUFVakQ7QUFDNEI7QUFDUjtBQUNRO0FBRXZDLFNBQVNnQjs7SUFDdEIsTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUdsQiwrQ0FBUUEsQ0FBbUI7SUFDN0QsTUFBTSxDQUFDbUIsa0JBQWtCQyxvQkFBb0IsR0FBR3BCLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQ3FCLHNCQUFzQkMsd0JBQXdCLEdBQUd0QiwrQ0FBUUEsQ0FHdEQ7SUFDVixNQUFNLENBQUN1Qiw0QkFBNEJDLDhCQUE4QixHQUMvRHhCLCtDQUFRQSxDQUFDO0lBQ1gsTUFBTSxDQUFDeUIsdUJBQXVCQyx5QkFBeUIsR0FDckQxQiwrQ0FBUUEsQ0FBUztJQUNuQixNQUFNLENBQ0oyQixrQ0FDQUMsb0NBQ0QsR0FBRzVCLCtDQUFRQSxDQUFnQjtJQUU1Qix5Q0FBeUM7SUFDekMsTUFBTSxDQUFDNkIsc0JBQXNCQyx3QkFBd0IsR0FBRzlCLCtDQUFRQSxDQUt0RDtJQUVWLGtCQUFrQjtJQUNsQixNQUFNK0IsWUFBWSxDQUFDQztRQUNqQixNQUFNLEVBQUVDLGtCQUFrQixFQUFFQyxlQUFlLEVBQUUsR0FBR0MsZUFBZUg7UUFFL0RkLGFBQWE7WUFDWGtCLFNBQVNIO1lBQ1RJLE1BQU1IO1lBQ05JLG9CQUFvQjtZQUNwQkMsYUFBYTtZQUNiQyxZQUFZO1lBQ1pDLFFBQVE7WUFDUkMsa0JBQWtCO1lBQ2xCQyxlQUFlO1lBQ2ZDLGFBQWEsRUFBRTtZQUNmQyxTQUFTO1FBQ1g7SUFDRjtJQUVBLDhDQUE4QztJQUM5QyxNQUFNQyxrQkFBa0I7UUFDdEIsSUFBSSxDQUFDN0IsYUFBYUEsVUFBVTBCLGFBQWEsRUFBRTtRQUUzQyxNQUFNLEVBQUVJLGFBQWEsRUFBRUMsV0FBVyxFQUFFLEdBQUd6QywwREFBU0Es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LG1CQUFtQnBDLE9BQU9LLElBQUk7dUJBTnBDTCxPQUFPaUQsRUFBRTs7Ozs7Ozs7OzswQkFXcEIsOERBQUMxRixpRUFBWUE7Z0JBQ1gwQixhQUFhdEIsVUFBVXNCLFdBQVc7Z0JBQ2xDc0gsV0FBV3ZCO2dCQUNYaUIsc0JBQXNCO2dCQUN0QjVHLGVBQWUxQixVQUFVMEIsYUFBYTs7Ozs7O1lBR3ZDeEIsa0NBQ0MsOERBQUNKLGtFQUFZQTtnQkFDWHVDLFFBQVFyQyxVQUFVbUIsT0FBTyxDQUFDbkIsVUFBVXFCLGtCQUFrQixDQUFDO2dCQUN2RHdILFdBQVdyQjs7Ozs7O1lBSWRwSCxzQ0FDQyw4REFBQ2hCLGdFQUFXQTtnQkFDVmtELE1BQU1sQyxxQkFBcUJrQyxJQUFJO2dCQUMvQm5CLFNBQVNuQixVQUFVbUIsT0FBTztnQkFDMUJFLG9CQUFvQnJCLFVBQVVxQixrQkFBa0I7Z0JBQ2hEeUgsWUFBWTlFO2dCQUNaK0UsVUFBVSxJQUFNMUksd0JBQXdCOzs7Ozs7WUFJM0NDLDhCQUNDSSxxQ0FBcUMsc0JBQ25DLDhEQUFDckIsNEVBQXNCQTtnQkFDckIySixPQUNFeEksMEJBQTBCLGlCQUN0Qiw0Q0FDQUEsMEJBQTBCLGFBQzFCLG9DQUNBO2dCQUVOeUksY0FDRWpKLFVBQVVtQixPQUFPLENBQUNULGlDQUFpQyxDQUFDc0MsVUFBVTtnQkFFaEVrRyxVQUFVbEQ7Z0JBQ1YrQyxVQUFVO29CQUNSeEksOEJBQThCO29CQUM5Qkksb0NBQW9DO29CQUNwQ0YseUJBQXlCO29CQUN6Qkosd0JBQXdCO2dCQUMxQjtnQkFDQThJLGtCQUFrQjNJLDBCQUEwQjs7Ozs7Ozs7Ozs7O0FBS3hEO0dBNTZCd0JUO0tBQUFBIiwic291cmNlcyI6WyIvVXNlcnMva2l0am9uZXMvRGVza3RvcC9tb25vcG9seS1kZWFsL2NvbXBvbmVudHMvZ2FtZS1ib2FyZC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBQbGF5ZXJBcmVhIGZyb20gXCJAL2NvbXBvbmVudHMvcGxheWVyLWFyZWFcIjtcbmltcG9ydCBDYXJkRGVjayBmcm9tIFwiQC9jb21wb25lbnRzL2NhcmQtZGVja1wiO1xuaW1wb3J0IEFjdGlvbkFyZWEgZnJvbSBcIkAvY29tcG9uZW50cy9hY3Rpb24tYXJlYVwiO1xuaW1wb3J0IEFjdGlvbk1vZGFsIGZyb20gXCJAL2NvbXBvbmVudHMvYWN0aW9uLW1vZGFsXCI7XG5pbXBvcnQgUHJvcGVydHlTZWxlY3Rpb25Nb2RhbCBmcm9tIFwiQC9jb21wb25lbnRzL3Byb3BlcnR5LXNlbGVjdGlvbi1tb2RhbFwiO1xuaW1wb3J0IHR5cGUgeyBDYXJkLCBHYW1lU3RhdGUgfSBmcm9tIFwiQC9saWIvdHlwZXNcIjtcbmltcG9ydCB7XG4gIGluaXRpYWxpemVHYW1lLFxuICBkcmF3Q2FyZHMsXG4gIGVuZFR1cm4sXG4gIGlzVmFsaWRDYXJkUGxhY2VtZW50LFxuICBkaXNjYXJkQ2FyZHMsXG4gIGdldFJlcXVpcmVkQ2FyZHNGb3JDb2xvcixcbiAgY2FsY3VsYXRlUmVudEFtb3VudCxcbn0gZnJvbSBcIkAvbGliL2dhbWUtbG9naWNcIjtcbmltcG9ydCBHYW1lQ29udHJvbHMgZnJvbSBcIkAvY29tcG9uZW50cy9nYW1lLWNvbnRyb2xzXCI7XG5pbXBvcnQgR2FtZUluZm8gZnJvbSBcIkAvY29tcG9uZW50cy9nYW1lLWluZm9cIjtcbmltcG9ydCBEaXNjYXJkTW9kYWwgZnJvbSBcIkAvY29tcG9uZW50cy9kaXNjYXJkLW1vZGFsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdhbWVCb2FyZCgpIHtcbiAgY29uc3QgW2dhbWVTdGF0ZSwgc2V0R2FtZVN0YXRlXSA9IHVzZVN0YXRlPEdhbWVTdGF0ZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd0Rpc2NhcmRNb2RhbCwgc2V0U2hvd0Rpc2NhcmRNb2RhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthY3Rpb25DYXJkSW5Qcm9ncmVzcywgc2V0QWN0aW9uQ2FyZEluUHJvZ3Jlc3NdID0gdXNlU3RhdGU8e1xuICAgIGNhcmQ6IENhcmQ7XG4gICAgaW5kZXg6IG51bWJlcjtcbiAgfSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd1Byb3BlcnR5U2VsZWN0aW9uTW9kYWwsIHNldFNob3dQcm9wZXJ0eVNlbGVjdGlvbk1vZGFsXSA9XG4gICAgdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJvcGVydHlTZWxlY3Rpb25UeXBlLCBzZXRQcm9wZXJ0eVNlbGVjdGlvblR5cGVdID1cbiAgICB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbXG4gICAgdGFyZ2V0UGxheWVyRm9yUHJvcGVydHlTZWxlY3Rpb24sXG4gICAgc2V0VGFyZ2V0UGxheWVyRm9yUHJvcGVydHlTZWxlY3Rpb24sXG4gIF0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcblxuICAvLyBBZGQgc3RhdGUgZm9yIGZvcmNlZCBkZWFsIGFuZCBzbHkgZGVhbFxuICBjb25zdCBbZm9yY2VkRGVhbFRhcmdldENhcmQsIHNldEZvcmNlZERlYWxUYXJnZXRDYXJkXSA9IHVzZVN0YXRlPHtcbiAgICBwbGF5ZXJJbmRleDogbnVtYmVyO1xuICAgIHNldEluZGV4OiBudW1iZXI7XG4gICAgY2FyZEluZGV4OiBudW1iZXI7XG4gICAgY2FyZDogQ2FyZDtcbiAgfSB8IG51bGw+KG51bGwpO1xuXG4gIC8vIEluaXRpYWxpemUgZ2FtZVxuICBjb25zdCBzdGFydEdhbWUgPSAobnVtUGxheWVyczogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgeyBpbml0aWFsaXplZFBsYXllcnMsIGluaXRpYWxpemVkRGVjayB9ID0gaW5pdGlhbGlzZUdhbWUobnVtUGxheWVycyk7XG5cbiAgICBzZXRHYW1lU3RhdGUoe1xuICAgICAgcGxheWVyczogaW5pdGlhbGl6ZWRQbGF5ZXJzLFxuICAgICAgZGVjazogaW5pdGlhbGl6ZWREZWNrLFxuICAgICAgY3VycmVudFBsYXllckluZGV4OiAwLFxuICAgICAgY2FyZHNQbGF5ZWQ6IDAsXG4gICAgICBpc0dhbWVPdmVyOiBmYWxzZSxcbiAgICAgIHdpbm5lcjogbnVsbCxcbiAgICAgIGFjdGlvbkluUHJvZ3Jlc3M6IG51bGwsXG4gICAgICBoYXNEcmF3bkNhcmRzOiBmYWxzZSxcbiAgICAgIGFjdGlvbkNhcmRzOiBbXSxcbiAgICAgIG1lc3NhZ2U6IFwiR2FtZSBzdGFydGVkISBEcmF3IGNhcmRzIHRvIGJlZ2luIHlvdXIgdHVybi5cIixcbiAgICB9KTtcbiAgfTtcblxuICAvLyBIYW5kbGUgZHJhd2luZyBjYXJkcyBhdCB0aGUgc3RhcnQgb2YgYSB0dXJuXG4gIGNvbnN0IGhhbmRsZURyYXdDYXJkcyA9ICgpID0+IHtcbiAgICBpZiAoIWdhbWVTdGF0ZSB8fCBnYW1lU3RhdGUuaGFzRHJhd25DYXJkcykgcmV0dXJuO1xuXG4gICAgY29uc3QgeyB1cGRhdGVkUGxheWVyLCB1cGRhdGVkRGVjayB9ID0gZHJhd0NhcmRzKFxuICAgICAgZ2FtZVN0YXRlLnBsYXllcnNbZ2FtZVN0YXRlLmN1cnJlbnRQbGF5ZXJJbmRleF0sXG4gICAgICBnYW1lU3RhdGUuZGVja1xuICAgICk7XG5cbiAgICBjb25zdCB1cGRhdGVkUGxheWVycyA9IFsuLi5nYW1lU3RhdGUucGxheWVyc107XG4gICAgdXBkYXRlZFBsYXllcnNbZ2FtZVN0YXRlLmN1cnJlbnRQbGF5ZXJJbmRleF0gPSB1cGRhdGVkUGxheWVyO1xuXG4gICAgc2V0R2FtZVN0YXRlKHtcbiAgICAgIC4uLmdhbWVTdGF0ZSxcbiAgICAgIHBsYXllcnM6IHVwZGF0ZWRQbGF5ZXJzLFxuICAgICAgZGVjazogdXBkYXRlZERlY2ssXG4gICAgICBoYXNEcmF3bkNhcmRzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogXCJDYXJkcyBkcmF3bi4gUGxheSB1cCB0byAzIGNhcmRzLlwiLFxuICAgIH0pO1xuICB9O1xuXG4gIC8vIEhhbmRsZSBwbGF5aW5nIGEgY2FyZFxuICBjb25zdCBoYW5kbGVQbGF5Q2FyZCA9IChcbiAgICBjYXJkSW5kZXg6IG51bWJlcixcbiAgICB0YXJnZXRBcmVhOiBzdHJpbmcsXG4gICAgdGFyZ2V0UGxheWVyPzogbnVtYmVyXG4gICkgPT4ge1xuICAgIGlmICghZ2FtZVN0YXRlIHx8IGdhbWVTdGF0ZS5jYXJkc1BsYXllZCA+PSAzIHx8ICFnYW1lU3RhdGUuaGFzRHJhd25DYXJkcylcbiAgICAgIHJldHVybjtcblxuICAgIGNvbnN0IHBsYXllciA9IGdhbWVTdGF0ZS5wbGF5ZXJzW2dhbWVTdGF0ZS5jdXJyZW50UGxheWVySW5kZXhdO1xuICAgIGNvbnN0IGNhcmQgPSBwbGF5ZXIuaGFuZFtjYXJkSW5kZXhdO1xuXG4gICAgLy8gVmFsaWRhdGUgY2FyZCBwbGFjZW1lbnRcbiAgICBpZiAoIWlzVmFsaWRDYXJkUGxhY2VtZW50KGNhcmQsIHRhcmdldEFyZWEpKSB7XG4gICAgICBhbGVydChcbiAgICAgICAgXCJJbnZhbGlkIGNhcmQgcGxhY2VtZW50LiBDaGVjayB0aGUgcnVsZXMgZm9yIHdoZXJlIHRoaXMgY2FyZCBjYW4gYmUgcGxheWVkLlwiXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZWRQbGF5ZXJzID0gWy4uLmdhbWVTdGF0ZS5wbGF5ZXJzXTtcbiAgICBjb25zdCB1cGRhdGVkUGxheWVyID0geyAuLi51cGRhdGVkUGxheWVyc1tnYW1lU3RhdGUuY3VycmVudFBsYXllckluZGV4XSB9O1xuXG4gICAgLy8gUmVtb3ZlIGNhcmQgZnJvbSBoYW5kXG4gICAgdXBkYXRlZFBsYXllci5oYW5kID0gWy4uLnVwZGF0ZWRQbGF5ZXIuaGFuZF07XG4gICAgdXBkYXRlZFBsYXllci5oYW5kLnNwbGljZShjYXJkSW5kZXgsIDEpO1xuXG4gICAgLy8gQWRkIGNhcmQgdG8gYXBwcm9wcmlhdGUgYXJlYVxuICAgIGlmICh0YXJnZXRBcmVhID09PSBcImJhbmtcIikge1xuICAgICAgdXBkYXRlZFBsYXllci5iYW5rID0gWy4uLnVwZGF0ZWRQbGF5ZXIuYmFuaywgY2FyZF07XG4gICAgfSBlbHNlIGlmICh0YXJnZXRBcmVhLnN0YXJ0c1dpdGgoXCJwcm9wZXJ0eS1cIikpIHtcbiAgICAgIC8vIEhhbmRsZSBwcm9wZXJ0eSBwbGFjZW1lbnQgbG9naWNcbiAgICAgIGNvbnN0IHNldEluZGV4ID0gTnVtYmVyLnBhcnNlSW50KHRhcmdldEFyZWEuc3BsaXQoXCItXCIpWzFdKTtcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhbiBleGlzdGluZyBwcm9wZXJ0eSBzZXRcbiAgICAgIGlmIChzZXRJbmRleCA8IHVwZGF0ZWRQbGF5ZXIucHJvcGVydGllcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gQWRkIHRvIGV4aXN0aW5nIHByb3BlcnR5IHNldFxuICAgICAgICB1cGRhdGVkUGxheWVyLnByb3BlcnRpZXMgPSBbLi4udXBkYXRlZFBsYXllci5wcm9wZXJ0aWVzXTtcbiAgICAgICAgY29uc3QgdXBkYXRlZFNldCA9IHtcbiAgICAgICAgICAuLi51cGRhdGVkUGxheWVyLnByb3BlcnRpZXNbc2V0SW5kZXhdLFxuICAgICAgICAgIGNhcmRzOiBbLi4udXBkYXRlZFBsYXllci5wcm9wZXJ0aWVzW3NldEluZGV4XS5jYXJkcywgY2FyZF0sXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgc2V0IGlzIG5vdyBjb21wbGV0ZVxuICAgICAgICB1cGRhdGVkU2V0LmlzQ29tcGxldGUgPVxuICAgICAgICAgIHVwZGF0ZWRTZXQuY2FyZHMubGVuZ3RoID49IHVwZGF0ZWRTZXQucmVxdWlyZWRDYXJkcztcblxuICAgICAgICB1cGRhdGVkUGxheWVyLnByb3BlcnRpZXNbc2V0SW5kZXhdID0gdXBkYXRlZFNldDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENyZWF0ZSBuZXcgcHJvcGVydHkgc2V0IChvbmx5IGZvciByZWd1bGFyIHByb3BlcnRpZXMsIG5vdCBcIkFueSBDb2xvclwiIHdpbGRjYXJkcylcbiAgICAgICAgY29uc3QgaXNBbnlDb2xvcldpbGRjYXJkID1cbiAgICAgICAgICBjYXJkLnR5cGUgPT09IFwid2lsZGNhcmRcIiAmJlxuICAgICAgICAgIGNhcmQubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiYW55IGNvbG9yXCIpO1xuXG4gICAgICAgIGlmICghaXNBbnlDb2xvcldpbGRjYXJkKSB7XG4gICAgICAgICAgdXBkYXRlZFBsYXllci5wcm9wZXJ0aWVzID0gW1xuICAgICAgICAgICAgLi4udXBkYXRlZFBsYXllci5wcm9wZXJ0aWVzLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjb2xvcjogY2FyZC5jb2xvciB8fCBcIlwiLFxuICAgICAgICAgICAgICBjYXJkczogW2NhcmRdLFxuICAgICAgICAgICAgICBpc0NvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgaG91c2VzOiAwLFxuICAgICAgICAgICAgICBob3RlbHM6IDAsXG4gICAgICAgICAgICAgIHJlcXVpcmVkQ2FyZHM6IGdldFJlcXVpcmVkQ2FyZHNGb3JDb2xvcihjYXJkLmNvbG9yIHx8IFwiXCIpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEFueSBDb2xvciB3aWxkY2FyZHMgY2FuJ3QgY3JlYXRlIHRoZWlyIG93biBzZXRzXG4gICAgICAgICAgYWxlcnQoXG4gICAgICAgICAgICBcIkFueSBDb2xvciB3aWxkY2FyZHMgbXVzdCBiZSBhZGRlZCB0byBhbiBleGlzdGluZyBwcm9wZXJ0eSBzZXQuXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGFyZ2V0QXJlYSA9PT0gXCJhY3Rpb25cIikge1xuICAgICAgLy8gVGhpcyBpcyBub3cgaGFuZGxlZCBieSBoYW5kbGVQbGF5QWN0aW9uQ2FyZFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVwZGF0ZWRQbGF5ZXJzW2dhbWVTdGF0ZS5jdXJyZW50UGxheWVySW5kZXhdID0gdXBkYXRlZFBsYXllcjtcblxuICAgIHNldEdhbWVTdGF0ZSh7XG4gICAgICAuLi5nYW1lU3RhdGUsXG4gICAgICBwbGF5ZXJzOiB1cGRhdGVkUGxheWVycyxcbiAgICAgIGNhcmRzUGxheWVkOiBnYW1lU3RhdGUuY2FyZHNQbGF5ZWQgKyAxLFxuICAgICAgbWVzc2FnZTogYENhcmQgcGxheWVkICgke2dhbWVTdGF0ZS5jYXJkc1BsYXllZCArIDF9LzMpYCxcbiAgICB9KTtcbiAgfTtcblxuICAvLyBIYW5kbGUgcGxheWluZyBhbiBhY3Rpb24gY2FyZFxuICBjb25zdCBoYW5kbGVQbGF5QWN0aW9uQ2FyZCA9IChjYXJkSW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGlmICghZ2FtZVN0YXRlIHx8IGdhbWVTdGF0ZS5jYXJkc1BsYXllZCA+PSAzIHx8ICFnYW1lU3RhdGUuaGFzRHJhd25DYXJkcylcbiAgICAgIHJldHVybjtcblxuICAgIGNvbnN0IHBsYXllciA9IGdhbWVTdGF0ZS5wbGF5ZXJzW2dhbWVTdGF0ZS5jdXJyZW50UGxheWVySW5kZXhdO1xuICAgIGNvbnN0IGNhcmQgPSBwbGF5ZXIuaGFuZFtjYXJkSW5kZXhdO1xuXG4gICAgaWYgKGNhcmQudHlwZSAhPT0gXCJhY3Rpb25cIikge1xuICAgICAgYWxlcnQoXCJUaGlzIGlzIG5vdCBhbiBhY3Rpb24gY2FyZC5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBhY3Rpb24gY2FyZCBpbiBwcm9ncmVzc1xuICAgIHNldEFjdGlvbkNhcmRJblByb2dyZXNzKHtcbiAgICAgIGNhcmQsXG4gICAgICBpbmRleDogY2FyZEluZGV4LFxuICAgIH0pO1xuICB9O1xuXG4gIC8vIEhhbmRsZSBjb21wbGV0aW5nIGFuIGFjdGlvbiBjYXJkXG4gIGNvbnN0IGhhbmRsZUFjdGlvbkNhcmRDb21wbGV0ZSA9IChcbiAgICB0YXJnZXRQbGF5ZXJJbmRleD86IG51bWJlcixcbiAgICBhbW91bnQ/OiBudW1iZXJcbiAgKSA9PiB7XG4gICAgaWYgKCFnYW1lU3RhdGUgfHwgIWFjdGlvbkNhcmRJblByb2dyZXNzKSByZXR1cm47XG5cbiAgICBjb25zdCBjdXJyZW50UGxheWVySW5kZXggPSBnYW1lU3RhdGUuY3VycmVudFBsYXllckluZGV4O1xuICAgIGNvbnN0IGNhcmQgPSBhY3Rpb25DYXJkSW5Qcm9ncmVzcy5jYXJkO1xuICAgIGNvbnN0IGNhcmRJbmRleCA9IGFjdGlvbkNhcmRJblByb2dyZXNzLmluZGV4O1xuXG4gICAgY29uc3QgdXBkYXRlZFBsYXllcnMgPSBbLi4uZ2FtZVN0YXRlLnBsYXllcnNdO1xuICAgIGNvbnN0IHVwZGF0ZWRQbGF5ZXIgPSB7IC4uLnVwZGF0ZWRQbGF5ZXJzW2N1cnJlbnRQbGF5ZXJJbmRleF0gfTtcblxuICAgIC8vIFJlbW92ZSBjYXJkIGZyb20gaGFuZFxuICAgIHVwZGF0ZWRQbGF5ZXIuaGFuZCA9IFsuLi51cGRhdGVkUGxheWVyLmhhbmRdO1xuICAgIHVwZGF0ZWRQbGF5ZXIuaGFuZC5zcGxpY2UoY2FyZEluZGV4LCAxKTtcblxuICAgIC8vIEFkZCBjYXJkIHRvIGFjdGlvbiBhcmVhXG4gICAgY29uc3QgdXBkYXRlZEFjdGlvbkNhcmRzID0gWy4uLmdhbWVTdGF0ZS5hY3Rpb25DYXJkcywgY2FyZF07XG5cbiAgICAvLyBQcm9jZXNzIHRoZSBhY3Rpb24gYmFzZWQgb24gdGhlIGNhcmQgdHlwZVxuICAgIGxldCBtZXNzYWdlID0gYFBsYXllZCAke2NhcmQubmFtZX1gO1xuXG4gICAgc3dpdGNoIChjYXJkLmFjdGlvblR5cGUpIHtcbiAgICAgIGNhc2UgXCJkZWJ0LWNvbGxlY3RvclwiOlxuICAgICAgICBpZiAodGFyZ2V0UGxheWVySW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNvbnN0IHRhcmdldFBsYXllciA9IHsgLi4udXBkYXRlZFBsYXllcnNbdGFyZ2V0UGxheWVySW5kZXhdIH07XG4gICAgICAgICAgY29uc3QgYW1vdW50VG9QYXkgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIDUsXG4gICAgICAgICAgICBjYWxjdWxhdGVCYW5rVG90YWwodGFyZ2V0UGxheWVyLmJhbmspXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChhbW91bnRUb1BheSA+IDApIHtcbiAgICAgICAgICAgIC8vIEZpbmQgY2FyZHMgdG8gcGF5IHdpdGggKHNpbXBsZSBpbXBsZW1lbnRhdGlvbiAtIGp1c3QgdGFrZSB0aGUgZmlyc3QgY2FyZHMgdGhhdCBhZGQgdXAgdG8gdGhlIGFtb3VudClcbiAgICAgICAgICAgIGNvbnN0IGNhcmRzVG9QYXk6IENhcmRbXSA9IFtdO1xuICAgICAgICAgICAgbGV0IHRvdGFsUGFpZCA9IDA7XG5cbiAgICAgICAgICAgIC8vIFNvcnQgYmFuayBjYXJkcyBieSB2YWx1ZSAoYXNjZW5kaW5nKSB0byBvcHRpbWl6ZSBwYXltZW50XG4gICAgICAgICAgICBjb25zdCBzb3J0ZWRCYW5rID0gWy4uLnRhcmdldFBsYXllci5iYW5rXS5zb3J0KFxuICAgICAgICAgICAgICAoYSwgYikgPT4gYS52YWx1ZSAtIGIudmFsdWVcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgYmFua0NhcmQgb2Ygc29ydGVkQmFuaykge1xuICAgICAgICAgICAgICBpZiAodG90YWxQYWlkIDwgYW1vdW50VG9QYXkpIHtcbiAgICAgICAgICAgICAgICBjYXJkc1RvUGF5LnB1c2goYmFua0NhcmQpO1xuICAgICAgICAgICAgICAgIHRvdGFsUGFpZCArPSBiYW5rQ2FyZC52YWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmICh0b3RhbFBhaWQgPj0gYW1vdW50VG9QYXkpIHtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZW1vdmUgY2FyZHMgZnJvbSB0YXJnZXQgcGxheWVyJ3MgYmFua1xuICAgICAgICAgICAgdGFyZ2V0UGxheWVyLmJhbmsgPSB0YXJnZXRQbGF5ZXIuYmFuay5maWx0ZXIoXG4gICAgICAgICAgICAgIChjYXJkKSA9PiAhY2FyZHNUb1BheS5zb21lKChwYXlDYXJkKSA9PiBwYXlDYXJkLmlkID09PSBjYXJkLmlkKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gQWRkIGNhcmRzIHRvIGN1cnJlbnQgcGxheWVyJ3MgYmFua1xuICAgICAgICAgICAgdXBkYXRlZFBsYXllci5iYW5rID0gWy4uLnVwZGF0ZWRQbGF5ZXIuYmFuaywgLi4uY2FyZHNUb1BheV07XG5cbiAgICAgICAgICAgIHVwZGF0ZWRQbGF5ZXJzW3RhcmdldFBsYXllckluZGV4XSA9IHRhcmdldFBsYXllcjtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgQ29sbGVjdGVkICQke3RvdGFsUGFpZH1NIGZyb20gUGxheWVyICR7XG4gICAgICAgICAgICAgIHRhcmdldFBsYXllckluZGV4ICsgMVxuICAgICAgICAgICAgfWA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgUGxheWVyICR7dGFyZ2V0UGxheWVySW5kZXggKyAxfSBoYXMgbm8gbW9uZXkgdG8gcGF5YDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJiaXJ0aGRheVwiOlxuICAgICAgICBsZXQgdG90YWxDb2xsZWN0ZWQgPSAwO1xuXG4gICAgICAgIC8vIENvbGxlY3QgMk0gZnJvbSBlYWNoIHBsYXllclxuICAgICAgICB1cGRhdGVkUGxheWVycy5mb3JFYWNoKChwbGF5ZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGluZGV4ICE9PSBjdXJyZW50UGxheWVySW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IHBsYXllclRvVXBkYXRlID0geyAuLi5wbGF5ZXIgfTtcbiAgICAgICAgICAgIGNvbnN0IGFtb3VudFRvUGF5ID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgIDIsXG4gICAgICAgICAgICAgIGNhbGN1bGF0ZUJhbmtUb3RhbChwbGF5ZXJUb1VwZGF0ZS5iYW5rKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKGFtb3VudFRvUGF5ID4gMCkge1xuICAgICAgICAgICAgICAvLyBGaW5kIGNhcmRzIHRvIHBheSB3aXRoXG4gICAgICAgICAgICAgIGNvbnN0IGNhcmRzVG9QYXk6IENhcmRbXSA9IFtdO1xuICAgICAgICAgICAgICBsZXQgdG90YWxQYWlkID0gMDtcblxuICAgICAgICAgICAgICAvLyBTb3J0IGJhbmsgY2FyZHMgYnkgdmFsdWUgKGFzY2VuZGluZykgdG8gb3B0aW1pemUgcGF5bWVudFxuICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRCYW5rID0gWy4uLnBsYXllclRvVXBkYXRlLmJhbmtdLnNvcnQoXG4gICAgICAgICAgICAgICAgKGEsIGIpID0+IGEudmFsdWUgLSBiLnZhbHVlXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgZm9yIChjb25zdCBiYW5rQ2FyZCBvZiBzb3J0ZWRCYW5rKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRvdGFsUGFpZCA8IGFtb3VudFRvUGF5KSB7XG4gICAgICAgICAgICAgICAgICBjYXJkc1RvUGF5LnB1c2goYmFua0NhcmQpO1xuICAgICAgICAgICAgICAgICAgdG90YWxQYWlkICs9IGJhbmtDYXJkLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICBpZiAodG90YWxQYWlkID49IGFtb3VudFRvUGF5KSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIFJlbW92ZSBjYXJkcyBmcm9tIHBsYXllcidzIGJhbmtcbiAgICAgICAgICAgICAgcGxheWVyVG9VcGRhdGUuYmFuayA9IHBsYXllclRvVXBkYXRlLmJhbmsuZmlsdGVyKFxuICAgICAgICAgICAgICAgIChjYXJkKSA9PiAhY2FyZHNUb1BheS5zb21lKChwYXlDYXJkKSA9PiBwYXlDYXJkLmlkID09PSBjYXJkLmlkKVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIC8vIEFkZCBjYXJkcyB0byBjdXJyZW50IHBsYXllcidzIGJhbmtcbiAgICAgICAgICAgICAgdXBkYXRlZFBsYXllci5iYW5rID0gWy4uLnVwZGF0ZWRQbGF5ZXIuYmFuaywgLi4uY2FyZHNUb1BheV07XG5cbiAgICAgICAgICAgICAgdXBkYXRlZFBsYXllcnNbaW5kZXhdID0gcGxheWVyVG9VcGRhdGU7XG4gICAgICAgICAgICAgIHRvdGFsQ29sbGVjdGVkICs9IHRvdGFsUGFpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1lc3NhZ2UgPSBgQ29sbGVjdGVkICQke3RvdGFsQ29sbGVjdGVkfU0gZm9yIHlvdXIgYmlydGhkYXlgO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcInBhc3MtZ29cIjpcbiAgICAgICAgLy8gRHJhdyAyIG1vcmUgY2FyZHNcbiAgICAgICAgY29uc3QgeyB1cGRhdGVkUGxheWVyOiBwbGF5ZXJXaXRoRXh0cmFDYXJkcywgdXBkYXRlZERlY2sgfSA9IGRyYXdDYXJkcyhcbiAgICAgICAgICB1cGRhdGVkUGxheWVyLFxuICAgICAgICAgIGdhbWVTdGF0ZS5kZWNrLFxuICAgICAgICAgIDJcbiAgICAgICAgKTtcblxuICAgICAgICB1cGRhdGVkUGxheWVyLmhhbmQgPSBwbGF5ZXJXaXRoRXh0cmFDYXJkcy5oYW5kO1xuXG4gICAgICAgIG1lc3NhZ2UgPSBcIkRyZXcgMiBtb3JlIGNhcmRzXCI7XG5cbiAgICAgICAgc2V0R2FtZVN0YXRlKHtcbiAgICAgICAgICAuLi5nYW1lU3RhdGUsXG4gICAgICAgICAgcGxheWVyczogdXBkYXRlZFBsYXllcnMsXG4gICAgICAgICAgZGVjazogdXBkYXRlZERlY2ssXG4gICAgICAgICAgY2FyZHNQbGF5ZWQ6IGdhbWVTdGF0ZS5jYXJkc1BsYXllZCArIDEsXG4gICAgICAgICAgYWN0aW9uQ2FyZHM6IHVwZGF0ZWRBY3Rpb25DYXJkcyxcbiAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJyZW50XCI6XG4gICAgICAgIGlmICh0YXJnZXRQbGF5ZXJJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gQ2FsY3VsYXRlIHJlbnQgYmFzZWQgb24gcHJvcGVydGllcyBvZiB0aGUgc3BlY2lmaWVkIGNvbG9yc1xuICAgICAgICAgIGNvbnN0IHJlbnRDb2xvcnMgPSBbXTtcbiAgICAgICAgICBpZiAoY2FyZC5jb2xvcikgcmVudENvbG9ycy5wdXNoKGNhcmQuY29sb3IpO1xuICAgICAgICAgIGlmIChjYXJkLnNlY29uZGFyeUNvbG9yKSByZW50Q29sb3JzLnB1c2goY2FyZC5zZWNvbmRhcnlDb2xvcik7XG5cbiAgICAgICAgICAvLyBGaW5kIHByb3BlcnR5IHNldHMgb2YgdGhlIHNwZWNpZmllZCBjb2xvcnNcbiAgICAgICAgICBjb25zdCByZWxldmFudFNldHMgPSB1cGRhdGVkUGxheWVyLnByb3BlcnRpZXMuZmlsdGVyKChzZXQpID0+XG4gICAgICAgICAgICByZW50Q29sb3JzLmluY2x1ZGVzKHNldC5jb2xvcilcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gQ2FsY3VsYXRlIHJlbnQgYW1vdW50XG4gICAgICAgICAgbGV0IHJlbnRBbW91bnQgPSAwO1xuICAgICAgICAgIHJlbGV2YW50U2V0cy5mb3JFYWNoKChzZXQpID0+IHtcbiAgICAgICAgICAgIHJlbnRBbW91bnQgKz0gY2FsY3VsYXRlUmVudEFtb3VudChzZXQpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKHJlbnRBbW91bnQgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRQbGF5ZXIgPSB7IC4uLnVwZGF0ZWRQbGF5ZXJzW3RhcmdldFBsYXllckluZGV4XSB9O1xuICAgICAgICAgICAgY29uc3QgYW1vdW50VG9QYXkgPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgcmVudEFtb3VudCxcbiAgICAgICAgICAgICAgY2FsY3VsYXRlQmFua1RvdGFsKHRhcmdldFBsYXllci5iYW5rKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKGFtb3VudFRvUGF5ID4gMCkge1xuICAgICAgICAgICAgICAvLyBGaW5kIGNhcmRzIHRvIHBheSB3aXRoXG4gICAgICAgICAgICAgIGNvbnN0IGNhcmRzVG9QYXk6IENhcmRbXSA9IFtdO1xuICAgICAgICAgICAgICBsZXQgdG90YWxQYWlkID0gMDtcblxuICAgICAgICAgICAgICAvLyBTb3J0IGJhbmsgY2FyZHMgYnkgdmFsdWUgKGFzY2VuZGluZykgdG8gb3B0aW1pemUgcGF5bWVudFxuICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRCYW5rID0gWy4uLnRhcmdldFBsYXllci5iYW5rXS5zb3J0KFxuICAgICAgICAgICAgICAgIChhLCBiKSA9PiBhLnZhbHVlIC0gYi52YWx1ZVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIGZvciAoY29uc3QgYmFua0NhcmQgb2Ygc29ydGVkQmFuaykge1xuICAgICAgICAgICAgICAgIGlmICh0b3RhbFBhaWQgPCBhbW91bnRUb1BheSkge1xuICAgICAgICAgICAgICAgICAgY2FyZHNUb1BheS5wdXNoKGJhbmtDYXJkKTtcbiAgICAgICAgICAgICAgICAgIHRvdGFsUGFpZCArPSBiYW5rQ2FyZC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsUGFpZCA+PSBhbW91bnRUb1BheSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBSZW1vdmUgY2FyZHMgZnJvbSB0YXJnZXQgcGxheWVyJ3MgYmFua1xuICAgICAgICAgICAgICB0YXJnZXRQbGF5ZXIuYmFuayA9IHRhcmdldFBsYXllci5iYW5rLmZpbHRlcihcbiAgICAgICAgICAgICAgICAoY2FyZCkgPT4gIWNhcmRzVG9QYXkuc29tZSgocGF5Q2FyZCkgPT4gcGF5Q2FyZC5pZCA9PT0gY2FyZC5pZClcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAvLyBBZGQgY2FyZHMgdG8gY3VycmVudCBwbGF5ZXIncyBiYW5rXG4gICAgICAgICAgICAgIHVwZGF0ZWRQbGF5ZXIuYmFuayA9IFsuLi51cGRhdGVkUGxheWVyLmJhbmssIC4uLmNhcmRzVG9QYXldO1xuXG4gICAgICAgICAgICAgIHVwZGF0ZWRQbGF5ZXJzW3RhcmdldFBsYXllckluZGV4XSA9IHRhcmdldFBsYXllcjtcbiAgICAgICAgICAgICAgbWVzc2FnZSA9IGBDb2xsZWN0ZWQgJCR7dG90YWxQYWlkfU0gcmVudCBmcm9tIFBsYXllciAke1xuICAgICAgICAgICAgICAgIHRhcmdldFBsYXllckluZGV4ICsgMVxuICAgICAgICAgICAgICB9YDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1lc3NhZ2UgPSBgUGxheWVyICR7XG4gICAgICAgICAgICAgICAgdGFyZ2V0UGxheWVySW5kZXggKyAxXG4gICAgICAgICAgICAgIH0gaGFzIG5vIG1vbmV5IHRvIHBheSByZW50YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZSA9IGBObyBwcm9wZXJ0aWVzIG9mIHRoZSBzcGVjaWZpZWQgY29sb3JzIHRvIGNvbGxlY3QgcmVudCBmb3JgO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcImRlYWwtYnJlYWtlclwiOlxuICAgICAgICBpZiAodGFyZ2V0UGxheWVySW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIFNob3cgcHJvcGVydHkgc2VsZWN0aW9uIG1vZGFsIGZvciBjb21wbGV0ZSBzZXRzXG4gICAgICAgICAgc2V0UHJvcGVydHlTZWxlY3Rpb25UeXBlKFwiZGVhbC1icmVha2VyXCIpO1xuICAgICAgICAgIHNldFRhcmdldFBsYXllckZvclByb3BlcnR5U2VsZWN0aW9uKHRhcmdldFBsYXllckluZGV4KTtcbiAgICAgICAgICBzZXRTaG93UHJvcGVydHlTZWxlY3Rpb25Nb2RhbCh0cnVlKTtcblxuICAgICAgICAgIC8vIFRoZSByZXN0IG9mIHRoZSBsb2dpYyB3aWxsIGJlIGhhbmRsZWQgd2hlbiB0aGUgcHJvcGVydHkgaXMgc2VsZWN0ZWRcbiAgICAgICAgICBzZXRBY3Rpb25DYXJkSW5Qcm9ncmVzcyhudWxsKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJzbHktZGVhbFwiOlxuICAgICAgICBpZiAodGFyZ2V0UGxheWVySW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIFNob3cgcHJvcGVydHkgc2VsZWN0aW9uIG1vZGFsIGZvciBpbmNvbXBsZXRlIHNldHNcbiAgICAgICAgICBzZXRQcm9wZXJ0eVNlbGVjdGlvblR5cGUoXCJzbHktZGVhbFwiKTtcbiAgICAgICAgICBzZXRUYXJnZXRQbGF5ZXJGb3JQcm9wZXJ0eVNlbGVjdGlvbih0YXJnZXRQbGF5ZXJJbmRleCk7XG4gICAgICAgICAgc2V0U2hvd1Byb3BlcnR5U2VsZWN0aW9uTW9kYWwodHJ1ZSk7XG5cbiAgICAgICAgICAvLyBUaGUgcmVzdCBvZiB0aGUgbG9naWMgd2lsbCBiZSBoYW5kbGVkIHdoZW4gdGhlIHByb3BlcnR5IGlzIHNlbGVjdGVkXG4gICAgICAgICAgc2V0QWN0aW9uQ2FyZEluUHJvZ3Jlc3MobnVsbCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwiZm9yY2VkLWRlYWxcIjpcbiAgICAgICAgaWYgKHRhcmdldFBsYXllckluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBTaG93IHByb3BlcnR5IHNlbGVjdGlvbiBtb2RhbCBmb3IgaW5jb21wbGV0ZSBzZXRzXG4gICAgICAgICAgc2V0UHJvcGVydHlTZWxlY3Rpb25UeXBlKFwiZm9yY2VkLWRlYWxcIik7XG4gICAgICAgICAgc2V0VGFyZ2V0UGxheWVyRm9yUHJvcGVydHlTZWxlY3Rpb24odGFyZ2V0UGxheWVySW5kZXgpO1xuICAgICAgICAgIHNldFNob3dQcm9wZXJ0eVNlbGVjdGlvbk1vZGFsKHRydWUpO1xuXG4gICAgICAgICAgLy8gVGhlIHJlc3Qgb2YgdGhlIGxvZ2ljIHdpbGwgYmUgaGFuZGxlZCB3aGVuIHRoZSBwcm9wZXJ0eSBpcyBzZWxlY3RlZFxuICAgICAgICAgIHNldEFjdGlvbkNhcmRJblByb2dyZXNzKG51bGwpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICB1cGRhdGVkUGxheWVyc1tjdXJyZW50UGxheWVySW5kZXhdID0gdXBkYXRlZFBsYXllcjtcblxuICAgIHNldEdhbWVTdGF0ZSh7XG4gICAgICAuLi5nYW1lU3RhdGUsXG4gICAgICBwbGF5ZXJzOiB1cGRhdGVkUGxheWVycyxcbiAgICAgIGNhcmRzUGxheWVkOiBnYW1lU3RhdGUuY2FyZHNQbGF5ZWQgKyAxLFxuICAgICAgYWN0aW9uQ2FyZHM6IHVwZGF0ZWRBY3Rpb25DYXJkcyxcbiAgICAgIG1lc3NhZ2UsXG4gICAgfSk7XG5cbiAgICBzZXRBY3Rpb25DYXJkSW5Qcm9ncmVzcyhudWxsKTtcbiAgfTtcblxuICAvLyBIYW5kbGUgcHJvcGVydHkgc2VsZWN0aW9uIGZvciBhY3Rpb24gY2FyZHNcbiAgY29uc3QgaGFuZGxlUHJvcGVydHlTZWxlY3Rpb24gPSAoc2V0SW5kZXg6IG51bWJlciwgY2FyZEluZGV4OiBudW1iZXIpID0+IHtcbiAgICBpZiAoIWdhbWVTdGF0ZSB8fCAhdGFyZ2V0UGxheWVyRm9yUHJvcGVydHlTZWxlY3Rpb24pIHJldHVybjtcblxuICAgIGNvbnN0IGN1cnJlbnRQbGF5ZXJJbmRleCA9IGdhbWVTdGF0ZS5jdXJyZW50UGxheWVySW5kZXg7XG4gICAgY29uc3QgdGFyZ2V0UGxheWVySW5kZXggPSB0YXJnZXRQbGF5ZXJGb3JQcm9wZXJ0eVNlbGVjdGlvbjtcblxuICAgIGNvbnN0IHVwZGF0ZWRQbGF5ZXJzID0gWy4uLmdhbWVTdGF0ZS5wbGF5ZXJzXTtcbiAgICBjb25zdCBjdXJyZW50UGxheWVyID0geyAuLi51cGRhdGVkUGxheWVyc1tjdXJyZW50UGxheWVySW5kZXhdIH07XG4gICAgY29uc3QgdGFyZ2V0UGxheWVyID0geyAuLi51cGRhdGVkUGxheWVyc1t0YXJnZXRQbGF5ZXJJbmRleF0gfTtcblxuICAgIGxldCBtZXNzYWdlID0gXCJcIjtcblxuICAgIHN3aXRjaCAocHJvcGVydHlTZWxlY3Rpb25UeXBlKSB7XG4gICAgICBjYXNlIFwiZGVhbC1icmVha2VyXCI6XG4gICAgICAgIC8vIFN0ZWFsIGEgY29tcGxldGUgcHJvcGVydHkgc2V0XG4gICAgICAgIGlmIChzZXRJbmRleCA8IHRhcmdldFBsYXllci5wcm9wZXJ0aWVzLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IHN0b2xlblNldCA9IHsgLi4udGFyZ2V0UGxheWVyLnByb3BlcnRpZXNbc2V0SW5kZXhdIH07XG5cbiAgICAgICAgICAvLyBSZW1vdmUgdGhlIHNldCBmcm9tIHRhcmdldCBwbGF5ZXJcbiAgICAgICAgICB0YXJnZXRQbGF5ZXIucHJvcGVydGllcyA9IHRhcmdldFBsYXllci5wcm9wZXJ0aWVzLmZpbHRlcihcbiAgICAgICAgICAgIChfLCBpKSA9PiBpICE9PSBzZXRJbmRleFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBBZGQgdGhlIHNldCB0byBjdXJyZW50IHBsYXllclxuICAgICAgICAgIGN1cnJlbnRQbGF5ZXIucHJvcGVydGllcyA9IFsuLi5jdXJyZW50UGxheWVyLnByb3BlcnRpZXMsIHN0b2xlblNldF07XG5cbiAgICAgICAgICBtZXNzYWdlID0gYFN0b2xlICR7c3RvbGVuU2V0LmNvbG9yfSBwcm9wZXJ0eSBzZXQgZnJvbSBQbGF5ZXIgJHtcbiAgICAgICAgICAgIHRhcmdldFBsYXllckluZGV4ICsgMVxuICAgICAgICAgIH1gO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwic2x5LWRlYWxcIjpcbiAgICAgICAgLy8gU3RlYWwgYSBzaW5nbGUgcHJvcGVydHkgY2FyZFxuICAgICAgICBpZiAoXG4gICAgICAgICAgc2V0SW5kZXggPCB0YXJnZXRQbGF5ZXIucHJvcGVydGllcy5sZW5ndGggJiZcbiAgICAgICAgICBjYXJkSW5kZXggPCB0YXJnZXRQbGF5ZXIucHJvcGVydGllc1tzZXRJbmRleF0uY2FyZHMubGVuZ3RoXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHN0b2xlbkNhcmQgPSB0YXJnZXRQbGF5ZXIucHJvcGVydGllc1tzZXRJbmRleF0uY2FyZHNbY2FyZEluZGV4XTtcblxuICAgICAgICAgIC8vIFJlbW92ZSB0aGUgY2FyZCBmcm9tIHRhcmdldCBwbGF5ZXIncyBzZXRcbiAgICAgICAgICBjb25zdCB1cGRhdGVkVGFyZ2V0UHJvcGVydGllcyA9IFsuLi50YXJnZXRQbGF5ZXIucHJvcGVydGllc107XG4gICAgICAgICAgY29uc3QgdXBkYXRlZFNldCA9IHsgLi4udXBkYXRlZFRhcmdldFByb3BlcnRpZXNbc2V0SW5kZXhdIH07XG4gICAgICAgICAgdXBkYXRlZFNldC5jYXJkcyA9IHVwZGF0ZWRTZXQuY2FyZHMuZmlsdGVyKChfLCBpKSA9PiBpICE9PSBjYXJkSW5kZXgpO1xuXG4gICAgICAgICAgLy8gSWYgdGhlIHNldCBpcyBub3cgZW1wdHksIHJlbW92ZSBpdFxuICAgICAgICAgIGlmICh1cGRhdGVkU2V0LmNhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdXBkYXRlZFRhcmdldFByb3BlcnRpZXMuc3BsaWNlKHNldEluZGV4LCAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBzZXQncyBjb21wbGV0aW9uIHN0YXR1c1xuICAgICAgICAgICAgdXBkYXRlZFNldC5pc0NvbXBsZXRlID1cbiAgICAgICAgICAgICAgdXBkYXRlZFNldC5jYXJkcy5sZW5ndGggPj0gdXBkYXRlZFNldC5yZXF1aXJlZENhcmRzO1xuICAgICAgICAgICAgdXBkYXRlZFRhcmdldFByb3BlcnRpZXNbc2V0SW5kZXhdID0gdXBkYXRlZFNldDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0YXJnZXRQbGF5ZXIucHJvcGVydGllcyA9IHVwZGF0ZWRUYXJnZXRQcm9wZXJ0aWVzO1xuXG4gICAgICAgICAgLy8gQWRkIHRoZSBjYXJkIHRvIGN1cnJlbnQgcGxheWVyJ3MgcHJvcGVydGllc1xuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU2V0SW5kZXggPSBjdXJyZW50UGxheWVyLnByb3BlcnRpZXMuZmluZEluZGV4KFxuICAgICAgICAgICAgKHNldCkgPT4gc2V0LmNvbG9yID09PSBzdG9sZW5DYXJkLmNvbG9yXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChleGlzdGluZ1NldEluZGV4ID49IDApIHtcbiAgICAgICAgICAgIC8vIEFkZCB0byBleGlzdGluZyBzZXRcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRDdXJyZW50UHJvcGVydGllcyA9IFsuLi5jdXJyZW50UGxheWVyLnByb3BlcnRpZXNdO1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlZEN1cnJlbnRTZXQgPSB7XG4gICAgICAgICAgICAgIC4uLnVwZGF0ZWRDdXJyZW50UHJvcGVydGllc1tleGlzdGluZ1NldEluZGV4XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB1cGRhdGVkQ3VycmVudFNldC5jYXJkcyA9IFsuLi51cGRhdGVkQ3VycmVudFNldC5jYXJkcywgc3RvbGVuQ2FyZF07XG4gICAgICAgICAgICB1cGRhdGVkQ3VycmVudFNldC5pc0NvbXBsZXRlID1cbiAgICAgICAgICAgICAgdXBkYXRlZEN1cnJlbnRTZXQuY2FyZHMubGVuZ3RoID49IHVwZGF0ZWRDdXJyZW50U2V0LnJlcXVpcmVkQ2FyZHM7XG4gICAgICAgICAgICB1cGRhdGVkQ3VycmVudFByb3BlcnRpZXNbZXhpc3RpbmdTZXRJbmRleF0gPSB1cGRhdGVkQ3VycmVudFNldDtcbiAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIucHJvcGVydGllcyA9IHVwZGF0ZWRDdXJyZW50UHJvcGVydGllcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBzZXRcbiAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIucHJvcGVydGllcyA9IFtcbiAgICAgICAgICAgICAgLi4uY3VycmVudFBsYXllci5wcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29sb3I6IHN0b2xlbkNhcmQuY29sb3IgfHwgXCJcIixcbiAgICAgICAgICAgICAgICBjYXJkczogW3N0b2xlbkNhcmRdLFxuICAgICAgICAgICAgICAgIGlzQ29tcGxldGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGhvdXNlczogMCxcbiAgICAgICAgICAgICAgICBob3RlbHM6IDAsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRDYXJkczogZ2V0UmVxdWlyZWRDYXJkc0ZvckNvbG9yKHN0b2xlbkNhcmQuY29sb3IgfHwgXCJcIiksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG1lc3NhZ2UgPSBgU3RvbGUgJHtzdG9sZW5DYXJkLm5hbWV9IGZyb20gUGxheWVyICR7XG4gICAgICAgICAgICB0YXJnZXRQbGF5ZXJJbmRleCArIDFcbiAgICAgICAgICB9YDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcImZvcmNlZC1kZWFsXCI6XG4gICAgICAgIC8vIEZpcnN0IHN0ZXA6IFNlbGVjdCB0aGUgdGFyZ2V0IHBsYXllcidzIHByb3BlcnR5XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzZXRJbmRleCA8IHRhcmdldFBsYXllci5wcm9wZXJ0aWVzLmxlbmd0aCAmJlxuICAgICAgICAgIGNhcmRJbmRleCA8IHRhcmdldFBsYXllci5wcm9wZXJ0aWVzW3NldEluZGV4XS5jYXJkcy5sZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0Q2FyZCA9IHRhcmdldFBsYXllci5wcm9wZXJ0aWVzW3NldEluZGV4XS5jYXJkc1tjYXJkSW5kZXhdO1xuXG4gICAgICAgICAgLy8gU3RvcmUgdGhlIHNlbGVjdGVkIGNhcmQgaW5mb1xuICAgICAgICAgIHNldEZvcmNlZERlYWxUYXJnZXRDYXJkKHtcbiAgICAgICAgICAgIHBsYXllckluZGV4OiB0YXJnZXRQbGF5ZXJJbmRleCxcbiAgICAgICAgICAgIHNldEluZGV4LFxuICAgICAgICAgICAgY2FyZEluZGV4LFxuICAgICAgICAgICAgY2FyZDogdGFyZ2V0Q2FyZCxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIFNob3cgYSBtZXNzYWdlIHRvIHNlbGVjdCB5b3VyIG93biBwcm9wZXJ0eVxuICAgICAgICAgIHNldEdhbWVTdGF0ZSh7XG4gICAgICAgICAgICAuLi5nYW1lU3RhdGUsXG4gICAgICAgICAgICBtZXNzYWdlOiBgU2VsZWN0ZWQgJHt0YXJnZXRDYXJkLm5hbWV9LiBOb3cgc2VsZWN0IG9uZSBvZiB5b3VyIHByb3BlcnRpZXMgdG8gc3dhcC5gLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gQ2xvc2UgdGhlIGN1cnJlbnQgbW9kYWxcbiAgICAgICAgICBzZXRTaG93UHJvcGVydHlTZWxlY3Rpb25Nb2RhbChmYWxzZSk7XG5cbiAgICAgICAgICAvLyBPcGVuIGEgbmV3IG1vZGFsIHRvIHNlbGVjdCB5b3VyIG93biBwcm9wZXJ0eVxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc2V0UHJvcGVydHlTZWxlY3Rpb25UeXBlKFwiZm9yY2VkLWRlYWwtb3duXCIpO1xuICAgICAgICAgICAgc2V0U2hvd1Byb3BlcnR5U2VsZWN0aW9uTW9kYWwodHJ1ZSk7XG4gICAgICAgICAgfSwgMTAwKTtcblxuICAgICAgICAgIHJldHVybjsgLy8gRXhpdCB0aGUgZnVuY3Rpb24gZWFybHlcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcImZvcmNlZC1kZWFsLW93blwiOlxuICAgICAgICAvLyBTZWNvbmQgc3RlcDogU2VsZWN0IHlvdXIgb3duIHByb3BlcnR5IHRvIHN3YXBcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGZvcmNlZERlYWxUYXJnZXRDYXJkICE9PSBudWxsICYmXG4gICAgICAgICAgc2V0SW5kZXggPCBjdXJyZW50UGxheWVyLnByb3BlcnRpZXMubGVuZ3RoICYmXG4gICAgICAgICAgY2FyZEluZGV4IDwgY3VycmVudFBsYXllci5wcm9wZXJ0aWVzW3NldEluZGV4XS5jYXJkcy5sZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3Qgb3duQ2FyZCA9IGN1cnJlbnRQbGF5ZXIucHJvcGVydGllc1tzZXRJbmRleF0uY2FyZHNbY2FyZEluZGV4XTtcbiAgICAgICAgICBjb25zdCB0YXJnZXRQbGF5ZXJJbmRleCA9IGZvcmNlZERlYWxUYXJnZXRDYXJkLnBsYXllckluZGV4O1xuICAgICAgICAgIGNvbnN0IHRhcmdldFBsYXllciA9IHsgLi4udXBkYXRlZFBsYXllcnNbdGFyZ2V0UGxheWVySW5kZXhdIH07XG5cbiAgICAgICAgICAvLyBSZW1vdmUgdGhlIGNhcmQgZnJvbSB0YXJnZXQgcGxheWVyJ3Mgc2V0XG4gICAgICAgICAgY29uc3QgdXBkYXRlZFRhcmdldFByb3BlcnRpZXMgPSBbLi4udGFyZ2V0UGxheWVyLnByb3BlcnRpZXNdO1xuICAgICAgICAgIGNvbnN0IHRhcmdldFNldEluZGV4ID0gZm9yY2VkRGVhbFRhcmdldENhcmQuc2V0SW5kZXg7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0Q2FyZEluZGV4ID0gZm9yY2VkRGVhbFRhcmdldENhcmQuY2FyZEluZGV4O1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRUYXJnZXRTZXQgPSB7XG4gICAgICAgICAgICAuLi51cGRhdGVkVGFyZ2V0UHJvcGVydGllc1t0YXJnZXRTZXRJbmRleF0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICB1cGRhdGVkVGFyZ2V0U2V0LmNhcmRzID0gWy4uLnVwZGF0ZWRUYXJnZXRTZXQuY2FyZHNdO1xuICAgICAgICAgIGNvbnN0IHRhcmdldENhcmQgPSB1cGRhdGVkVGFyZ2V0U2V0LmNhcmRzW3RhcmdldENhcmRJbmRleF07XG4gICAgICAgICAgdXBkYXRlZFRhcmdldFNldC5jYXJkcy5zcGxpY2UodGFyZ2V0Q2FyZEluZGV4LCAxKTtcblxuICAgICAgICAgIC8vIFJlbW92ZSB0aGUgY2FyZCBmcm9tIGN1cnJlbnQgcGxheWVyJ3Mgc2V0XG4gICAgICAgICAgY29uc3QgdXBkYXRlZEN1cnJlbnRQcm9wZXJ0aWVzID0gWy4uLmN1cnJlbnRQbGF5ZXIucHJvcGVydGllc107XG4gICAgICAgICAgY29uc3QgdXBkYXRlZEN1cnJlbnRTZXQgPSB7IC4uLnVwZGF0ZWRDdXJyZW50UHJvcGVydGllc1tzZXRJbmRleF0gfTtcbiAgICAgICAgICB1cGRhdGVkQ3VycmVudFNldC5jYXJkcyA9IFsuLi51cGRhdGVkQ3VycmVudFNldC5jYXJkc107XG4gICAgICAgICAgdXBkYXRlZEN1cnJlbnRTZXQuY2FyZHMuc3BsaWNlKGNhcmRJbmRleCwgMSk7XG5cbiAgICAgICAgICAvLyBBZGQgY3VycmVudCBwbGF5ZXIncyBjYXJkIHRvIHRhcmdldCBwbGF5ZXIncyBzZXRcbiAgICAgICAgICBpZiAodXBkYXRlZFRhcmdldFNldC5jYXJkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIElmIHNldCBpcyBlbXB0eSwgcmVwbGFjZSBpdCB3aXRoIGEgbmV3IHNldFxuICAgICAgICAgICAgdXBkYXRlZFRhcmdldFByb3BlcnRpZXNbdGFyZ2V0U2V0SW5kZXhdID0ge1xuICAgICAgICAgICAgICBjb2xvcjogb3duQ2FyZC5jb2xvciB8fCBcIlwiLFxuICAgICAgICAgICAgICBjYXJkczogW293bkNhcmRdLFxuICAgICAgICAgICAgICBpc0NvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgaG91c2VzOiAwLFxuICAgICAgICAgICAgICBob3RlbHM6IDAsXG4gICAgICAgICAgICAgIHJlcXVpcmVkQ2FyZHM6IGdldFJlcXVpcmVkQ2FyZHNGb3JDb2xvcihvd25DYXJkLmNvbG9yIHx8IFwiXCIpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQWRkIHRvIGV4aXN0aW5nIHNldCBpZiBjb2xvcnMgbWF0Y2hcbiAgICAgICAgICAgIGlmIChvd25DYXJkLmNvbG9yID09PSB1cGRhdGVkVGFyZ2V0U2V0LmNvbG9yKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZWRUYXJnZXRTZXQuY2FyZHMucHVzaChvd25DYXJkKTtcbiAgICAgICAgICAgICAgdXBkYXRlZFRhcmdldFNldC5pc0NvbXBsZXRlID1cbiAgICAgICAgICAgICAgICB1cGRhdGVkVGFyZ2V0U2V0LmNhcmRzLmxlbmd0aCA+PSB1cGRhdGVkVGFyZ2V0U2V0LnJlcXVpcmVkQ2FyZHM7XG4gICAgICAgICAgICAgIHVwZGF0ZWRUYXJnZXRQcm9wZXJ0aWVzW3RhcmdldFNldEluZGV4XSA9IHVwZGF0ZWRUYXJnZXRTZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgc2V0IGlmIGNvbG9ycyBkb24ndCBtYXRjaFxuICAgICAgICAgICAgICB1cGRhdGVkVGFyZ2V0UHJvcGVydGllcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2xvcjogb3duQ2FyZC5jb2xvciB8fCBcIlwiLFxuICAgICAgICAgICAgICAgIGNhcmRzOiBbb3duQ2FyZF0sXG4gICAgICAgICAgICAgICAgaXNDb21wbGV0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgaG91c2VzOiAwLFxuICAgICAgICAgICAgICAgIGhvdGVsczogMCxcbiAgICAgICAgICAgICAgICByZXF1aXJlZENhcmRzOiBnZXRSZXF1aXJlZENhcmRzRm9yQ29sb3Iob3duQ2FyZC5jb2xvciB8fCBcIlwiKSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQWRkIHRhcmdldCBwbGF5ZXIncyBjYXJkIHRvIGN1cnJlbnQgcGxheWVyJ3Mgc2V0XG4gICAgICAgICAgaWYgKHVwZGF0ZWRDdXJyZW50U2V0LmNhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gSWYgc2V0IGlzIGVtcHR5LCByZXBsYWNlIGl0IHdpdGggYSBuZXcgc2V0XG4gICAgICAgICAgICB1cGRhdGVkQ3VycmVudFByb3BlcnRpZXNbc2V0SW5kZXhdID0ge1xuICAgICAgICAgICAgICBjb2xvcjogdGFyZ2V0Q2FyZC5jb2xvciB8fCBcIlwiLFxuICAgICAgICAgICAgICBjYXJkczogW3RhcmdldENhcmRdLFxuICAgICAgICAgICAgICBpc0NvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgaG91c2VzOiAwLFxuICAgICAgICAgICAgICBob3RlbHM6IDAsXG4gICAgICAgICAgICAgIHJlcXVpcmVkQ2FyZHM6IGdldFJlcXVpcmVkQ2FyZHNGb3JDb2xvcih0YXJnZXRDYXJkLmNvbG9yIHx8IFwiXCIpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQWRkIHRvIGV4aXN0aW5nIHNldCBpZiBjb2xvcnMgbWF0Y2hcbiAgICAgICAgICAgIGlmICh0YXJnZXRDYXJkLmNvbG9yID09PSB1cGRhdGVkQ3VycmVudFNldC5jb2xvcikge1xuICAgICAgICAgICAgICB1cGRhdGVkQ3VycmVudFNldC5jYXJkcy5wdXNoKHRhcmdldENhcmQpO1xuICAgICAgICAgICAgICB1cGRhdGVkQ3VycmVudFNldC5pc0NvbXBsZXRlID1cbiAgICAgICAgICAgICAgICB1cGRhdGVkQ3VycmVudFNldC5jYXJkcy5sZW5ndGggPj1cbiAgICAgICAgICAgICAgICB1cGRhdGVkQ3VycmVudFNldC5yZXF1aXJlZENhcmRzO1xuICAgICAgICAgICAgICB1cGRhdGVkQ3VycmVudFByb3BlcnRpZXNbc2V0SW5kZXhdID0gdXBkYXRlZEN1cnJlbnRTZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgc2V0IGlmIGNvbG9ycyBkb24ndCBtYXRjaFxuICAgICAgICAgICAgICB1cGRhdGVkQ3VycmVudFByb3BlcnRpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgY29sb3I6IHRhcmdldENhcmQuY29sb3IgfHwgXCJcIixcbiAgICAgICAgICAgICAgICBjYXJkczogW3RhcmdldENhcmRdLFxuICAgICAgICAgICAgICAgIGlzQ29tcGxldGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGhvdXNlczogMCxcbiAgICAgICAgICAgICAgICBob3RlbHM6IDAsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRDYXJkczogZ2V0UmVxdWlyZWRDYXJkc0ZvckNvbG9yKHRhcmdldENhcmQuY29sb3IgfHwgXCJcIiksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcHJvcGVydGllcyBhcnJheXNcbiAgICAgICAgICB0YXJnZXRQbGF5ZXIucHJvcGVydGllcyA9IHVwZGF0ZWRUYXJnZXRQcm9wZXJ0aWVzO1xuICAgICAgICAgIGN1cnJlbnRQbGF5ZXIucHJvcGVydGllcyA9IHVwZGF0ZWRDdXJyZW50UHJvcGVydGllcztcblxuICAgICAgICAgIC8vIFVwZGF0ZSBwbGF5ZXJzIGluIHRoZSBzdGF0ZVxuICAgICAgICAgIHVwZGF0ZWRQbGF5ZXJzW3RhcmdldFBsYXllckluZGV4XSA9IHRhcmdldFBsYXllcjtcbiAgICAgICAgICB1cGRhdGVkUGxheWVyc1tjdXJyZW50UGxheWVySW5kZXhdID0gY3VycmVudFBsYXllcjtcblxuICAgICAgICAgIG1lc3NhZ2UgPSBgU3dhcHBlZCAke293bkNhcmQubmFtZX0gZm9yICR7XG4gICAgICAgICAgICB0YXJnZXRDYXJkLm5hbWVcbiAgICAgICAgICB9IHdpdGggUGxheWVyICR7dGFyZ2V0UGxheWVySW5kZXggKyAxfWA7XG5cbiAgICAgICAgICAvLyBSZXNldCB0aGUgZm9yY2VkIGRlYWwgc3RhdGVcbiAgICAgICAgICBzZXRGb3JjZWREZWFsVGFyZ2V0Q2FyZChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgcGxheWVyc1xuICAgIHVwZGF0ZWRQbGF5ZXJzW2N1cnJlbnRQbGF5ZXJJbmRleF0gPSBjdXJyZW50UGxheWVyO1xuICAgIHVwZGF0ZWRQbGF5ZXJzW3RhcmdldFBsYXllckluZGV4XSA9IHRhcmdldFBsYXllcjtcblxuICAgIC8vIEFkZCB0aGUgYWN0aW9uIGNhcmQgdG8gdGhlIGFjdGlvbiBhcmVhXG4gICAgY29uc3QgdXBkYXRlZEFjdGlvbkNhcmRzID0gWy4uLmdhbWVTdGF0ZS5hY3Rpb25DYXJkc107XG5cbiAgICAvLyBNYWtlIHN1cmUgYWN0aW9uQ2FyZEluUHJvZ3Jlc3MgZXhpc3RzIGJlZm9yZSB0cnlpbmcgdG8gdXNlIGl0XG4gICAgaWYgKGFjdGlvbkNhcmRJblByb2dyZXNzKSB7XG4gICAgICAvLyBBZGQgdGhlIGNhcmQgdG8gdGhlIGFjdGlvbiBhcmVhXG4gICAgICB1cGRhdGVkQWN0aW9uQ2FyZHMucHVzaChhY3Rpb25DYXJkSW5Qcm9ncmVzcy5jYXJkKTtcblxuICAgICAgLy8gUmVtb3ZlIHRoZSBjYXJkIGZyb20gdGhlIHBsYXllcidzIGhhbmRcbiAgICAgIGNvbnN0IHVwZGF0ZWRIYW5kID0gWy4uLmN1cnJlbnRQbGF5ZXIuaGFuZF07XG4gICAgICB1cGRhdGVkSGFuZC5zcGxpY2UoYWN0aW9uQ2FyZEluUHJvZ3Jlc3MuaW5kZXgsIDEpO1xuICAgICAgY3VycmVudFBsYXllci5oYW5kID0gdXBkYXRlZEhhbmQ7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgcGxheWVyIGluIHRoZSBwbGF5ZXJzIGFycmF5XG4gICAgICB1cGRhdGVkUGxheWVyc1tjdXJyZW50UGxheWVySW5kZXhdID0gY3VycmVudFBsYXllcjtcblxuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIGBSZW1vdmVkICR7YWN0aW9uQ2FyZEluUHJvZ3Jlc3MuY2FyZC5uYW1lfSBmcm9tIHBsYXllciAke1xuICAgICAgICAgIGN1cnJlbnRQbGF5ZXJJbmRleCArIDFcbiAgICAgICAgfSdzIGhhbmRgXG4gICAgICApO1xuICAgICAgY29uc29sZS5sb2coYEFkZGVkICR7YWN0aW9uQ2FyZEluUHJvZ3Jlc3MuY2FyZC5uYW1lfSB0byBhY3Rpb24gYXJlYWApO1xuICAgIH1cblxuICAgIHNldEdhbWVTdGF0ZSh7XG4gICAgICAuLi5nYW1lU3RhdGUsXG4gICAgICBwbGF5ZXJzOiB1cGRhdGVkUGxheWVycyxcbiAgICAgIGNhcmRzUGxheWVkOiBnYW1lU3RhdGUuY2FyZHNQbGF5ZWQgKyAxLFxuICAgICAgYWN0aW9uQ2FyZHM6IHVwZGF0ZWRBY3Rpb25DYXJkcyxcbiAgICAgIG1lc3NhZ2UsXG4gICAgfSk7XG5cbiAgICBzZXRTaG93UHJvcGVydHlTZWxlY3Rpb25Nb2RhbChmYWxzZSk7XG4gICAgc2V0VGFyZ2V0UGxheWVyRm9yUHJvcGVydHlTZWxlY3Rpb24obnVsbCk7XG4gICAgc2V0UHJvcGVydHlTZWxlY3Rpb25UeXBlKFwiXCIpO1xuICAgIHNldEFjdGlvbkNhcmRJblByb2dyZXNzKG51bGwpO1xuICB9O1xuXG4gIC8vIEhhbmRsZSBlbmRpbmcgYSB0dXJuXG4gIGNvbnN0IGhhbmRsZUVuZFR1cm4gPSAoKSA9PiB7XG4gICAgaWYgKCFnYW1lU3RhdGUpIHJldHVybjtcblxuICAgIC8vIENoZWNrIGlmIHBsYXllciBoYXMgbW9yZSB0aGFuIDcgY2FyZHNcbiAgICBpZiAoZ2FtZVN0YXRlLnBsYXllcnNbZ2FtZVN0YXRlLmN1cnJlbnRQbGF5ZXJJbmRleF0uaGFuZC5sZW5ndGggPiA3KSB7XG4gICAgICBzZXRTaG93RGlzY2FyZE1vZGFsKHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbXBsZXRlRW5kVHVybigpO1xuICB9O1xuXG4gIC8vIENvbXBsZXRlIHRoZSBlbmQgdHVybiBwcm9jZXNzIGFmdGVyIGRpc2NhcmRpbmcgaWYgbmVjZXNzYXJ5XG4gIGNvbnN0IGNvbXBsZXRlRW5kVHVybiA9ICgpID0+IHtcbiAgICBpZiAoIWdhbWVTdGF0ZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgeyBuZXh0UGxheWVySW5kZXgsIHVwZGF0ZWRQbGF5ZXJzIH0gPSBlbmRUdXJuKFxuICAgICAgZ2FtZVN0YXRlLnBsYXllcnMsXG4gICAgICBnYW1lU3RhdGUuY3VycmVudFBsYXllckluZGV4XG4gICAgKTtcblxuICAgIHNldEdhbWVTdGF0ZSh7XG4gICAgICAuLi5nYW1lU3RhdGUsXG4gICAgICBwbGF5ZXJzOiB1cGRhdGVkUGxheWVycyxcbiAgICAgIGN1cnJlbnRQbGF5ZXJJbmRleDogbmV4dFBsYXllckluZGV4LFxuICAgICAgY2FyZHNQbGF5ZWQ6IDAsXG4gICAgICBoYXNEcmF3bkNhcmRzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IGBQbGF5ZXIgJHtuZXh0UGxheWVySW5kZXggKyAxfSdzIHR1cm4uIERyYXcgY2FyZHMgdG8gYmVnaW4uYCxcbiAgICB9KTtcbiAgfTtcblxuICAvLyBIYW5kbGUgZGlzY2FyZGluZyBjYXJkc1xuICBjb25zdCBoYW5kbGVEaXNjYXJkID0gKGNhcmRJbmRpY2VzOiBudW1iZXJbXSkgPT4ge1xuICAgIGlmICghZ2FtZVN0YXRlKSByZXR1cm47XG5cbiAgICBjb25zdCB7IHVwZGF0ZWRQbGF5ZXIsIHVwZGF0ZWREZWNrIH0gPSBkaXNjYXJkQ2FyZHMoXG4gICAgICBnYW1lU3RhdGUucGxheWVyc1tnYW1lU3RhdGUuY3VycmVudFBsYXllckluZGV4XSxcbiAgICAgIGNhcmRJbmRpY2VzLFxuICAgICAgZ2FtZVN0YXRlLmRlY2tcbiAgICApO1xuXG4gICAgY29uc3QgdXBkYXRlZFBsYXllcnMgPSBbLi4uZ2FtZVN0YXRlLnBsYXllcnNdO1xuICAgIHVwZGF0ZWRQbGF5ZXJzW2dhbWVTdGF0ZS5jdXJyZW50UGxheWVySW5kZXhdID0gdXBkYXRlZFBsYXllcjtcblxuICAgIHNldEdhbWVTdGF0ZSh7XG4gICAgICAuLi5nYW1lU3RhdGUsXG4gICAgICBwbGF5ZXJzOiB1cGRhdGVkUGxheWVycyxcbiAgICAgIGRlY2s6IHVwZGF0ZWREZWNrLFxuICAgICAgbWVzc2FnZTogYERpc2NhcmRlZCAke2NhcmRJbmRpY2VzLmxlbmd0aH0gY2FyZHNgLFxuICAgIH0pO1xuXG4gICAgc2V0U2hvd0Rpc2NhcmRNb2RhbChmYWxzZSk7XG4gICAgY29tcGxldGVFbmRUdXJuKCk7XG4gIH07XG5cbiAgLy8gQ2FsY3VsYXRlIHRvdGFsIG1vbmV5IGluIGJhbmtcbiAgY29uc3QgY2FsY3VsYXRlQmFua1RvdGFsID0gKGJhbms6IENhcmRbXSk6IG51bWJlciA9PiB7XG4gICAgcmV0dXJuIGJhbmsucmVkdWNlKCh0b3RhbCwgY2FyZCkgPT4gdG90YWwgKyBjYXJkLnZhbHVlLCAwKTtcbiAgfTtcblxuICAvLyBDaGVjayBmb3Igd2lubmVyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFnYW1lU3RhdGUpIHJldHVybjtcblxuICAgIGNvbnN0IGNoZWNrV2lubmVyID0gKCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBwbGF5ZXIgb2YgZ2FtZVN0YXRlLnBsYXllcnMpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgcGxheWVyIGhhcyAzIGNvbXBsZXRlIHByb3BlcnR5IHNldHNcbiAgICAgICAgY29uc3QgY29tcGxldGVTZXRzID0gcGxheWVyLnByb3BlcnRpZXMuZmlsdGVyKFxuICAgICAgICAgIChzZXQpID0+IHNldC5pc0NvbXBsZXRlXG4gICAgICAgICkubGVuZ3RoO1xuICAgICAgICBpZiAoY29tcGxldGVTZXRzID49IDMpIHtcbiAgICAgICAgICBzZXRHYW1lU3RhdGUoe1xuICAgICAgICAgICAgLi4uZ2FtZVN0YXRlLFxuICAgICAgICAgICAgaXNHYW1lT3ZlcjogdHJ1ZSxcbiAgICAgICAgICAgIHdpbm5lcjogcGxheWVyLFxuICAgICAgICAgICAgbWVzc2FnZTogYFBsYXllciAke1xuICAgICAgICAgICAgICBwbGF5ZXIuaWQgKyAxXG4gICAgICAgICAgICB9IHdpbnMgd2l0aCAzIGNvbXBsZXRlIHByb3BlcnR5IHNldHMhYCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY2hlY2tXaW5uZXIoKTtcbiAgfSwgW2dhbWVTdGF0ZV0pO1xuXG4gIGlmICghZ2FtZVN0YXRlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC02IGJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LWxnXCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNFwiPlN0YXJ0IE5ldyBHYW1lPC9oMj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC00XCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc3RhcnRHYW1lKDIpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ibHVlLTYwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgMiBQbGF5ZXJzXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc3RhcnRHYW1lKDMpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ibHVlLTYwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgMyBQbGF5ZXJzXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc3RhcnRHYW1lKDQpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ibHVlLTYwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgNCBQbGF5ZXJzXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmIChnYW1lU3RhdGUuaXNHYW1lT3ZlciAmJiBnYW1lU3RhdGUud2lubmVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC02IGJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LWxnXCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNFwiPkdhbWUgT3ZlciE8L2gyPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhsIG1iLTRcIj5QbGF5ZXIge2dhbWVTdGF0ZS53aW5uZXIuaWQgKyAxfSB3aW5zITwvcD5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHN0YXJ0R2FtZShnYW1lU3RhdGUucGxheWVycy5sZW5ndGgpfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgaG92ZXI6YmctYmx1ZS02MDBcIlxuICAgICAgICA+XG4gICAgICAgICAgTmV3IEdhbWVcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy03eGxcIj5cbiAgICAgIDxHYW1lSW5mb1xuICAgICAgICBjdXJyZW50UGxheWVyPXtnYW1lU3RhdGUuY3VycmVudFBsYXllckluZGV4ICsgMX1cbiAgICAgICAgY2FyZHNQbGF5ZWQ9e2dhbWVTdGF0ZS5jYXJkc1BsYXllZH1cbiAgICAgICAgaGFzRHJhd25DYXJkcz17Z2FtZVN0YXRlLmhhc0RyYXduQ2FyZHN9XG4gICAgICAvPlxuXG4gICAgICB7Z2FtZVN0YXRlLm1lc3NhZ2UgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWJsdWUtMTAwIHAtMyByb3VuZGVkLWxnIG1iLTQgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICB7Z2FtZVN0YXRlLm1lc3NhZ2V9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBnYXAtNiBtYi02XCI+XG4gICAgICAgIDxDYXJkRGVja1xuICAgICAgICAgIGNhcmRzUmVtYWluaW5nPXtnYW1lU3RhdGUuZGVjay5sZW5ndGh9XG4gICAgICAgICAgb25EcmF3Q2FyZHM9e2hhbmRsZURyYXdDYXJkc31cbiAgICAgICAgICBoYXNEcmF3bkNhcmRzPXtnYW1lU3RhdGUuaGFzRHJhd25DYXJkc31cbiAgICAgICAgLz5cblxuICAgICAgICA8QWN0aW9uQXJlYVxuICAgICAgICAgIGFjdGlvbkNhcmRzPXtnYW1lU3RhdGUuYWN0aW9uQ2FyZHN9XG4gICAgICAgICAgaXNDdXJyZW50UGxheWVyc1R1cm49e3RydWV9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC02IG1iLTIwXCI+XG4gICAgICAgIHtnYW1lU3RhdGUucGxheWVycy5tYXAoKHBsYXllciwgaW5kZXgpID0+IChcbiAgICAgICAgICA8UGxheWVyQXJlYVxuICAgICAgICAgICAga2V5PXtwbGF5ZXIuaWR9XG4gICAgICAgICAgICBwbGF5ZXI9e3BsYXllcn1cbiAgICAgICAgICAgIGlzQ3VycmVudFBsYXllcj17aW5kZXggPT09IGdhbWVTdGF0ZS5jdXJyZW50UGxheWVySW5kZXh9XG4gICAgICAgICAgICBvblBsYXlDYXJkPXtoYW5kbGVQbGF5Q2FyZH1cbiAgICAgICAgICAgIG9uUGxheUFjdGlvbkNhcmQ9e2hhbmRsZVBsYXlBY3Rpb25DYXJkfVxuICAgICAgICAgICAgZ2FtZVN0YXRlPXtnYW1lU3RhdGV9XG4gICAgICAgICAgICBiYW5rVG90YWw9e2NhbGN1bGF0ZUJhbmtUb3RhbChwbGF5ZXIuYmFuayl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgPEdhbWVDb250cm9sc1xuICAgICAgICBjYXJkc1BsYXllZD17Z2FtZVN0YXRlLmNhcmRzUGxheWVkfVxuICAgICAgICBvbkVuZFR1cm49e2hhbmRsZUVuZFR1cm59XG4gICAgICAgIGlzQ3VycmVudFBsYXllcnNUdXJuPXt0cnVlfVxuICAgICAgICBoYXNEcmF3bkNhcmRzPXtnYW1lU3RhdGUuaGFzRHJhd25DYXJkc31cbiAgICAgIC8+XG5cbiAgICAgIHtzaG93RGlzY2FyZE1vZGFsICYmIChcbiAgICAgICAgPERpc2NhcmRNb2RhbFxuICAgICAgICAgIHBsYXllcj17Z2FtZVN0YXRlLnBsYXllcnNbZ2FtZVN0YXRlLmN1cnJlbnRQbGF5ZXJJbmRleF19XG4gICAgICAgICAgb25EaXNjYXJkPXtoYW5kbGVEaXNjYXJkfVxuICAgICAgICAvPlxuICAgICAgKX1cblxuICAgICAge2FjdGlvbkNhcmRJblByb2dyZXNzICYmIChcbiAgICAgICAgPEFjdGlvbk1vZGFsXG4gICAgICAgICAgY2FyZD17YWN0aW9uQ2FyZEluUHJvZ3Jlc3MuY2FyZH1cbiAgICAgICAgICBwbGF5ZXJzPXtnYW1lU3RhdGUucGxheWVyc31cbiAgICAgICAgICBjdXJyZW50UGxheWVySW5kZXg9e2dhbWVTdGF0ZS5jdXJyZW50UGxheWVySW5kZXh9XG4gICAgICAgICAgb25Db21wbGV0ZT17aGFuZGxlQWN0aW9uQ2FyZENvbXBsZXRlfVxuICAgICAgICAgIG9uQ2FuY2VsPXsoKSA9PiBzZXRBY3Rpb25DYXJkSW5Qcm9ncmVzcyhudWxsKX1cbiAgICAgICAgLz5cbiAgICAgICl9XG5cbiAgICAgIHtzaG93UHJvcGVydHlTZWxlY3Rpb25Nb2RhbCAmJlxuICAgICAgICB0YXJnZXRQbGF5ZXJGb3JQcm9wZXJ0eVNlbGVjdGlvbiAhPT0gbnVsbCAmJiAoXG4gICAgICAgICAgPFByb3BlcnR5U2VsZWN0aW9uTW9kYWxcbiAgICAgICAgICAgIHRpdGxlPXtcbiAgICAgICAgICAgICAgcHJvcGVydHlTZWxlY3Rpb25UeXBlID09PSBcImRlYWwtYnJlYWtlclwiXG4gICAgICAgICAgICAgICAgPyBcIlNlbGVjdCBhIGNvbXBsZXRlIHByb3BlcnR5IHNldCB0byBzdGVhbFwiXG4gICAgICAgICAgICAgICAgOiBwcm9wZXJ0eVNlbGVjdGlvblR5cGUgPT09IFwic2x5LWRlYWxcIlxuICAgICAgICAgICAgICAgID8gXCJTZWxlY3QgYSBwcm9wZXJ0eSBjYXJkIHRvIHN0ZWFsXCJcbiAgICAgICAgICAgICAgICA6IFwiU2VsZWN0IGEgcHJvcGVydHkgY2FyZCB0byBzd2FwXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb3BlcnR5U2V0cz17XG4gICAgICAgICAgICAgIGdhbWVTdGF0ZS5wbGF5ZXJzW3RhcmdldFBsYXllckZvclByb3BlcnR5U2VsZWN0aW9uXS5wcm9wZXJ0aWVzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvblNlbGVjdD17aGFuZGxlUHJvcGVydHlTZWxlY3Rpb259XG4gICAgICAgICAgICBvbkNhbmNlbD17KCkgPT4ge1xuICAgICAgICAgICAgICBzZXRTaG93UHJvcGVydHlTZWxlY3Rpb25Nb2RhbChmYWxzZSk7XG4gICAgICAgICAgICAgIHNldFRhcmdldFBsYXllckZvclByb3BlcnR5U2VsZWN0aW9uKG51bGwpO1xuICAgICAgICAgICAgICBzZXRQcm9wZXJ0eVNlbGVjdGlvblR5cGUoXCJcIik7XG4gICAgICAgICAgICAgIHNldEFjdGlvbkNhcmRJblByb2dyZXNzKG51bGwpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGFsbG93Q29tcGxldGVTZXQ9e3Byb3BlcnR5U2VsZWN0aW9uVHlwZSA9PT0gXCJkZWFsLWJyZWFrZXJcIn1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiUGxheWVyQXJlYSIsIkNhcmREZWNrIiwiQWN0aW9uQXJlYSIsIkFjdGlvbk1vZGFsIiwiUHJvcGVydHlTZWxlY3Rpb25Nb2RhbCIsImRyYXdDYXJkcyIsImVuZFR1cm4iLCJpc1ZhbGlkQ2FyZFBsYWNlbWVudCIsImRpc2NhcmRDYXJkcyIsImdldFJlcXVpcmVkQ2FyZHNGb3JDb2xvciIsImNhbGN1bGF0ZVJlbnRBbW91bnQiLCJHYW1lQ29udHJvbHMiLCJHYW1lSW5mbyIsIkRpc2NhcmRNb2RhbCIsIkdhbWVCb2FyZCIsImdhbWVTdGF0ZSIsInNldEdhbWVTdGF0ZSIsInNob3dEaXNjYXJkTW9kYWwiLCJzZXRTaG93RGlzY2FyZE1vZGFsIiwiYWN0aW9uQ2FyZEluUHJvZ3Jlc3MiLCJzZXRBY3Rpb25DYXJkSW5Qcm9ncmVzcyIsInNob3dQcm9wZXJ0eVNlbGVjdGlvbk1vZGFsIiwic2V0U2hvd1Byb3BlcnR5U2VsZWN0aW9uTW9kYWwiLCJwcm9wZXJ0eVNlbGVjdGlvblR5cGUiLCJzZXRQcm9wZXJ0eVNlbGVjdGlvblR5cGUiLCJ0YXJnZXRQbGF5ZXJGb3JQcm9wZXJ0eVNlbGVjdGlvbiIsInNldFRhcmdldFBsYXllckZvclByb3BlcnR5U2VsZWN0aW9uIiwiZm9yY2VkRGVhbFRhcmdldENhcmQiLCJzZXRGb3JjZWREZWFsVGFyZ2V0Q2FyZCIsInN0YXJ0R2FtZSIsIm51bVBsYXllcnMiLCJpbml0aWFsaXplZFBsYXllcnMiLCJpbml0aWFsaXplZERlY2siLCJpbml0aWFsaXNlR2FtZSIsInBsYXllcnMiLCJkZWNrIiwiY3VycmVudFBsYXllckluZGV4IiwiY2FyZHNQbGF5ZWQiLCJpc0dhbWVPdmVyIiwid2lubmVyIiwiYWN0aW9uSW5Qcm9ncmVzcyIsImhhc0RyYXduQ2FyZHMiLCJhY3Rpb25DYXJkcyIsIm1lc3NhZ2UiLCJoYW5kbGVEcmF3Q2FyZHMiLCJ1cGRhdGVkUGxheWVyIiwidXBkYXRlZERlY2siLCJ1cGRhdGVkUGxheWVycyIsImhhbmRsZVBsYXlDYXJkIiwiY2FyZEluZGV4IiwidGFyZ2V0QXJlYSIsInRhcmdldFBsYXllciIsInBsYXllciIsImNhcmQiLCJoYW5kIiwiYWxlcnQiLCJzcGxpY2UiLCJiYW5rIiwic3RhcnRzV2l0aCIsInNldEluZGV4IiwiTnVtYmVyIiwicGFyc2VJbnQiLCJzcGxpdCIsInByb3BlcnRpZXMiLCJsZW5ndGgiLCJ1cGRhdGVkU2V0IiwiY2FyZHMiLCJpc0NvbXBsZXRlIiwicmVxdWlyZWRDYXJkcyIsImlzQW55Q29sb3JXaWxkY2FyZCIsInR5cGUiLCJuYW1lIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImNvbG9yIiwiaG91c2VzIiwiaG90ZWxzIiwiaGFuZGxlUGxheUFjdGlvbkNhcmQiLCJpbmRleCIsImhhbmRsZUFjdGlvbkNhcmRDb21wbGV0ZSIsInRhcmdldFBsYXllckluZGV4IiwiYW1vdW50IiwidXBkYXRlZEFjdGlvbkNhcmRzIiwiYWN0aW9uVHlwZSIsInVuZGVmaW5lZCIsImFtb3VudFRvUGF5IiwiTWF0aCIsIm1pbiIsImNhbGN1bGF0ZUJhbmtUb3RhbCIsImNhcmRzVG9QYXkiLCJ0b3RhbFBhaWQiLCJzb3J0ZWRCYW5rIiwic29ydCIsImEiLCJiIiwidmFsdWUiLCJiYW5rQ2FyZCIsInB1c2giLCJmaWx0ZXIiLCJzb21lIiwicGF5Q2FyZCIsImlkIiwidG90YWxDb2xsZWN0ZWQiLCJmb3JFYWNoIiwicGxheWVyVG9VcGRhdGUiLCJwbGF5ZXJXaXRoRXh0cmFDYXJkcyIsInJlbnRDb2xvcnMiLCJzZWNvbmRhcnlDb2xvciIsInJlbGV2YW50U2V0cyIsInNldCIsInJlbnRBbW91bnQiLCJoYW5kbGVQcm9wZXJ0eVNlbGVjdGlvbiIsImN1cnJlbnRQbGF5ZXIiLCJzdG9sZW5TZXQiLCJfIiwiaSIsInN0b2xlbkNhcmQiLCJ1cGRhdGVkVGFyZ2V0UHJvcGVydGllcyIsImV4aXN0aW5nU2V0SW5kZXgiLCJmaW5kSW5kZXgiLCJ1cGRhdGVkQ3VycmVudFByb3BlcnRpZXMiLCJ1cGRhdGVkQ3VycmVudFNldCIsInRhcmdldENhcmQiLCJwbGF5ZXJJbmRleCIsInNldFRpbWVvdXQiLCJvd25DYXJkIiwidGFyZ2V0U2V0SW5kZXgiLCJ0YXJnZXRDYXJkSW5kZXgiLCJ1cGRhdGVkVGFyZ2V0U2V0IiwidXBkYXRlZEhhbmQiLCJjb25zb2xlIiwibG9nIiwiaGFuZGxlRW5kVHVybiIsImNvbXBsZXRlRW5kVHVybiIsIm5leHRQbGF5ZXJJbmRleCIsImhhbmRsZURpc2NhcmQiLCJjYXJkSW5kaWNlcyIsInJlZHVjZSIsInRvdGFsIiwiY2hlY2tXaW5uZXIiLCJjb21wbGV0ZVNldHMiLCJkaXYiLCJjbGFzc05hbWUiLCJoMiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJwIiwiY2FyZHNSZW1haW5pbmciLCJvbkRyYXdDYXJkcyIsImlzQ3VycmVudFBsYXllcnNUdXJuIiwibWFwIiwiaXNDdXJyZW50UGxheWVyIiwib25QbGF5Q2FyZCIsIm9uUGxheUFjdGlvbkNhcmQiLCJiYW5rVG90YWwiLCJvbkVuZFR1cm4iLCJvbkRpc2NhcmQiLCJvbkNvbXBsZXRlIiwib25DYW5jZWwiLCJ0aXRsZSIsInByb3BlcnR5U2V0cyIsIm9uU2VsZWN0IiwiYWxsb3dDb21wbGV0ZVNldCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/game-board.tsx\n'
        )
      );

      /***/
    },
});
